<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Quincy â€” Deen Journal ğŸŒ™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Outfit:wght@300;400;600;700;900&display=swap" rel="stylesheet">

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc, collection, addDoc, onSnapshot, updateDoc, deleteDoc, increment } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCBSj_Axhnldf2cz5hVyJaOwJWQ5c_l-Tk",
            authDomain: "bu-buddy-4bafe.firebaseapp.com",
            projectId: "bu-buddy-4bafe",
            storageBucket: "bu-buddy-4bafe.firebasestorage.app",
            messagingSenderId: "1083707246516",
            appId: "1:1083707246516:web:f8692fa38a13e38e3554e1"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const APP_ID = 'quincy-deen-journal-v1';
        const USER_ID = 'quincy';

        window.db = db; window.doc = doc; window.setDoc = setDoc; window.getDoc = getDoc;
        window.collection = collection; window.addDoc = addDoc; window.onSnapshot = onSnapshot;
        window.updateDoc = updateDoc; window.deleteDoc = deleteDoc; window.increment = increment;
        // Will expose ALLAH_NAMES after definition
        window._ALLAH_NAMES_READY = false;

        // ============ DATA ============
        let userData = {};
        let activeTab = 'home';
        const TODAY = new Date();
        TODAY.setHours(0,0,0,0);
        const todayKey = TODAY.toISOString().split('T')[0];

        function getDay(key) {
            const k = key || todayKey;
            if (!userData[k]) userData[k] = {
                prayers: [false,false,false,false,false],
                tahajjud: false, fajrRoutine: [false,false,false,false],
                mosque: false, quranPages: 0, quranReadings: [],
                dhikr: {sub:0,alh:0,akb:0,ast:0,tah:0},
                gratitude: '', journal: '', date: k
            };
            return userData[k];
        }

        async function pushData() {
            try {
                await setDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'main'), userData);
            } catch(e) { console.error('push error', e); }
        }

        async function loadData() {
            try {
                const snap = await getDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'main'));
                if (snap.exists()) userData = snap.data();
            } catch(e) { console.error('load error', e); }
        }

        // ============ PROPHETS DATA (25 prophÃ¨tes mentionnÃ©s dans l'Islam) ============
        const PROPHETS = [
            { name: "Adam ï·º", subtitle: "Le premier homme et prophÃ¨te", emoji: "ğŸŒ¿",
              story: `Adam est le premier Ãªtre humain et le premier prophÃ¨te. Allah l'a crÃ©Ã© de la terre, lui a insufflÃ© Son souffle et lui a enseignÃ© les noms de toutes choses â€” ce qu'aucun ange ne connaissait.

Il vivait au Paradis avec Ãˆve (Hawwa), mais le ShaytÃ¢n les a trompÃ©s et ils ont mangÃ© du fruit interdit. Allah leur a pardonnÃ© aprÃ¨s leur repentir sincÃ¨re, et Il les a envoyÃ©s sur terre comme Ses reprÃ©sentants (khalife).

ğŸ“¿ LeÃ§on : Allah pardonne toujours Ã  celui qui se repent sincÃ¨rement. Le repentir d'Adam est le modÃ¨le de l'istighfar : reconnaÃ®tre sa faute, la regretter, se tourner vers Allah.` },

            { name: "IdrÃ®s ï·º", subtitle: "Le premier Ã  Ã©crire et Ã  coudre", emoji: "âœï¸",
              story: `IdrÃ®s est le deuxiÃ¨me prophÃ¨te mentionnÃ© dans le Coran. Il est le premier Ã  avoir Ã©crit avec une plume et Ã  confectionner des vÃªtements cousus. Il Ã©tait dotÃ© d'une grande sagesse.

Allah dit de lui : "Rappelle-toi IdrÃ®s dans le Livre. Il Ã©tait vÃ©ridique, prophÃ¨te. Et Nous l'avons Ã©levÃ© en un lieu sublime." (19:56-57)

Selon la tradition, il fut Ã©levÃ© vivant vers le ciel, comme Issa. Certains savants disent qu'il est HÃ©noch dans la Bible.

ğŸ“¿ LeÃ§on : La connaissance, l'Ã©criture et le savoir utile sont nobles aux yeux d'Allah. IdrÃ®s montre que la quÃªte du savoir est une voie vers Allah.` },

            { name: "NÃ»h ï·º", subtitle: "950 ans de da'wa, le DÃ©luge", emoji: "ğŸš¢",
              story: `NÃ»h a prÃªchÃ© son peuple pendant 950 ans â€” une patience extraordinaire. Son peuple adorait des idoles (Wadd, Suwa', YaghÃ»th, Ya'Ã»q, Nasr) et refusait obstinÃ©ment de l'Ã©couter.

Il a construit l'Arche par ordre divin, et le Grand DÃ©luge a tout submergÃ© sauf ceux qui Ã©taient Ã  bord. MÃªme son fils a refusÃ© de monter, croyant qu'une montagne le protÃ©gerait. NÃ»h a suppliÃ© pour lui, mais Allah lui rÃ©vÃ©la qu'il faisait partie des mÃ©crÃ©ants.

ğŸ“¿ LeÃ§on : La guidance (hidÃ¢ya) appartient Ã  Allah seul. MÃªme les prophÃ¨tes ne peuvent pas guider ceux qu'Allah n'a pas guidÃ©s.` },

            { name: "HÃ»d ï·º", subtitle: "EnvoyÃ© au peuple de 'Ã‚d", emoji: "ğŸŒ¬ï¸",
              story: `HÃ»d fut envoyÃ© au puissant peuple de 'Ã‚d, qui habitait la rÃ©gion d'Al-AhqÃ¢f (actuel YÃ©men/Oman). C'Ã©tait un peuple de gÃ©ants, immenses et forts, qui construisaient de hautes colonnes et s'enorgueillissaient de leur puissance.

HÃ»d les appela Ã  l'Islam mais ils refusÃ¨rent avec arrogance : "Qui est plus puissant que nous ?" Il les avertit du chÃ¢timent. Ils furent dÃ©truits par un vent mugissant et furieux qui dura 7 nuits et 8 jours â€” leurs corps gisaient comme des troncs de palmiers creux.

HÃ»d et les croyants furent Ã©pargnÃ©s.

ğŸ“¿ LeÃ§on : L'arrogance et le refus du rappel d'Allah mÃ¨nent Ã  la chute. La force physique ne protÃ¨ge de rien face Ã  la puissance divine.` },

            { name: "SÃ¢lih ï·º", subtitle: "La chamelle miraculeuse de Thamoud", emoji: "ğŸª",
              story: `SÃ¢lih fut envoyÃ© au peuple de Thamoud, qui habitait la rÃ©gion de Al-Hijr (actuel nord-ouest de l'Arabie Saoudite). Ce peuple taillait les rochers et en faisait des habitations.

Son peuple dÃ©fia SÃ¢lih : ils lui demandÃ¨rent un miracle â€” une chamelle sortant du rocher. Allah l'accorda. La chamelle avait le droit de boire Ã  l'abreuvoir un jour sur deux et ne devait pas Ãªtre touchÃ©e.

Mais ils tuÃ¨rent la chamelle par bravade. Allah leur accorda 3 jours. Le 3Ã¨me jour, ils furent frappÃ©s par un cri terrible (As-Sayhah) qui les dÃ©truisit tous. SÃ¢lih et les croyants furent sauvÃ©s.

ğŸ“¿ LeÃ§on : Tester les limites d'Allah est l'erreur la plus dangereuse. Les miracles ne forcent pas la foi â€” le cÅ“ur doit s'ouvrir volontairement.` },

            { name: "IbrÃ¢hÃ®m ï·º", subtitle: "KhalÃ®l Allah â€” L'ami intime d'Allah", emoji: "ğŸ”¥",
              story: `Ibrahim est appelÃ© "pÃ¨re des prophÃ¨tes" et "KhalÃ®l Allah" (l'ami d'Allah). NÃ© dans une famille d'idolÃ¢tres irakiens, dÃ¨s l'enfance sa raison l'a conduit vers l'Unique.

Il a brisÃ© les idoles de son peuple, a Ã©tÃ© jetÃ© dans un feu ardent, mais Allah ordonna au feu : "Sois fraÃ®cheur et paix pour Ibrahim" â€” et il en sortit indemne.

Il Ã©migra en Palestine, en Ã‰gypte. Il laissa sa femme Hajar et son fils IsmaÃ¯l dans la vallÃ©e aride de La Mecque par ordre divin. C'est de lÃ  que jaillit Zamzam.

L'Ã©preuve suprÃªme : Allah lui ordonna de sacrifier son fils IsmaÃ¯l. Tous deux acceptÃ¨rent avec soumission â€” Allah remplaÃ§a IsmaÃ¯l par un bÃ©lier au dernier moment. Avec IsmaÃ¯l, il bÃ¢tit la Ka'ba.

ğŸ“¿ LeÃ§on : La soumission totale Ã  Allah (Islam) est illustrÃ©e par Ibrahim dans chaque Ã©tape de sa vie.` },

            { name: "LÃ»t ï·º", subtitle: "Neveu d'Ibrahim, envoyÃ© Ã  Sodome", emoji: "ğŸ™ï¸",
              story: `LÃ»t Ã©tait le neveu d'Ibrahim ï·º. Il fut envoyÃ© aux habitants de Sodome et Gomorrhe, connus pour leurs crimes graves et leur dÃ©pravation morale extrÃªme.

Il les prÃªcha pendant des annÃ©es mais ils refusÃ¨rent avec arrogance et bravade. Des anges vinrent chez LÃ»t sous forme d'hommes beaux â€” la ville voulut les agresser. LÃ»t fut dÃ©sespÃ©rÃ© de ne pouvoir les protÃ©ger.

Les anges lui rÃ©vÃ©lÃ¨rent leur nature divine et lui ordonnÃ¨rent de quitter la ville la nuit avec sa famille. Sa femme regarda en arriÃ¨re et fut chÃ¢tiÃ©e avec les mÃ©crÃ©ants. Les villes furent retournÃ©es et les habitants frappÃ©s de pierres d'argile.

ğŸ“¿ LeÃ§on : Demeurer dans un environnement de corruption totale sans rÃ©sistance ni hijra mÃ¨ne Ã  la perte.` },

            { name: "IsmaÃ¯l ï·º", subtitle: "Fils d'Ibrahim, source de Zamzam", emoji: "ğŸ”ï¸",
              story: `IsmaÃ¯l est le fils d'Ibrahim et de Hajar. BÃ©bÃ©, laissÃ© avec sa mÃ¨re dans une vallÃ©e sans eau. Sa mÃ¨re courait entre Safa et Marwa (c'est l'origine du Sa'y du pÃ¨lerinage). Allah fit jaillir la source Zamzam sous ses pieds.

IsmaÃ¯l grandit parmi les tribus arabes et apprit l'arabe. Il aida son pÃ¨re Ã  construire la Ka'ba en portant les pierres, tandis qu'Ibrahim rÃ©citait : "Seigneur, accepte de nous !"

Il transmit la rÃ©vÃ©lation Ã  son peuple. Ses descendants sont Ã  l'origine des Arabes du Hedjaz, d'oÃ¹ est issu le ProphÃ¨te Muhammad ï·º.

ğŸ“¿ LeÃ§on : La soumission d'IsmaÃ¯l au sacrifice est le modÃ¨le de la confiance absolue en Allah. Et l'Ã©preuve peut faire jaillir Zamzam lÃ  oÃ¹ il n'y avait que du sable.` },

            { name: "IshÃ¢q ï·º", subtitle: "Fils d'Ibrahim et de Sarah", emoji: "â­",
              story: `IshÃ¢q (Isaac) est le fils d'Ibrahim ï·º et de sa femme Sarah. Sa naissance fut annoncÃ©e alors que ses parents Ã©taient trÃ¨s Ã¢gÃ©s â€” sa mÃ¨re Sarah en rit de surprise, ce que les anges lui confirmÃ¨rent.

Le Coran le dÃ©crit comme un prophÃ¨te vertueux : "Et Nous lui avons fait don d'IshÃ¢q et de Ya'qÃ»b en plus ; et tous Nous les avons rendus vertueux." (21:72)

Il vÃ©cut en Palestine et continua la mission prophÃ©tique de son pÃ¨re Ibrahim. De lui descend la lignÃ©e des prophÃ¨tes d'IsraÃ«l : Ya'qÃ»b, YÃ»suf, MÃ»sÃ¢, DÃ¢wÃ»d, SulaymÃ¢n, ÃsÃ¢.

ğŸ“¿ LeÃ§on : La promesse d'Allah se rÃ©alise toujours, mÃªme quand elle semble impossible selon les lois naturelles.` },

            { name: "Ya'qÃ»b ï·º", subtitle: "IsraÃ«l â€” pÃ¨re des 12 tribus", emoji: "ğŸŒ¾",
              story: `Ya'qÃ»b (Jacob) est le fils d'IshÃ¢q et le pÃ¨re de YÃ»suf. Allah le nomma aussi "IsraÃ«l" â€” ce qui donna son nom aux Bani IsraÃ¯l (enfants d'IsraÃ«l).

Il eut 12 fils des prophÃ¨tes. Son fils YÃ»suf Ã©tait son prÃ©fÃ©rÃ©, ce qui suscita la jalousie des autres. Quand ses fils revinrent en lui disant que YÃ»suf avait Ã©tÃ© mangÃ© par un loup, Ya'qÃ»b ne les crut pas.

Il pleura son fils pendant des annÃ©es au point de perdre la vue. Mais il ne perdit jamais espoir en Allah : "Je me plains Ã  Allah de ma dÃ©tresse et de mon chagrin." (12:86) Sa vue lui fut rendue lorsque la chemise de YÃ»suf lui fut posÃ©e sur le visage.

ğŸ“¿ LeÃ§on : Le deuil, la perte et la patience â€” Ya'qÃ»b est le modÃ¨le du croyant qui ne perd jamais espoir, mÃªme dans les 40 annÃ©es d'Ã©preuve les plus dures.` },

            { name: "YÃ»suf ï·º", subtitle: "La plus belle des histoires", emoji: "ğŸ’«",
              story: `YÃ»suf est fils de Ya'qÃ»b. Enfant, il vit en rÃªve onze Ã©toiles, le soleil et la lune se prosterner devant lui.

Ses frÃ¨res jaloux le jetÃ¨rent dans un puits, puis le vendirent comme esclave en Ã‰gypte. LÃ , son maÃ®tre l'apprÃ©ciait, mais sa femme l'accusa faussement â€” et il fut emprisonnÃ©.

En prison, il interprÃ©tait les rÃªves. Quand le roi d'Ã‰gypte fit un rÃªve troublant (7 vaches grasses mangÃ©es par 7 maigres), on fit appel Ã  YÃ»suf. Son interprÃ©tation juste lui valut d'Ãªtre nommÃ© ministre des finances.

Ses frÃ¨res vinrent chercher du grain sans le reconnaÃ®tre. Il les reconnut, les Ã©prouva, puis se rÃ©vÃ©la Ã  eux. Son pÃ¨re retrouva la vue grÃ¢ce Ã  sa chemise.

ğŸ“¿ LeÃ§on : Patience, chastetÃ©, confiance en Allah â€” les pires Ã©preuves deviennent Ã©lÃ©vation. "Allah est subtil envers Ses serviteurs." (12:100)` },

            { name: "Shu'ayb ï·º", subtitle: "EnvoyÃ© Ã  Madyan", emoji: "âš–ï¸",
              story: `Shu'ayb fut envoyÃ© au peuple de Madyan (rÃ©gion du nord-ouest de l'Arabie Saoudite, actuel Tabuk). Ce peuple avait deux dÃ©fauts majeurs : ils escroquaient sur les poids et les mesures, et ils coupaient les routes pour dÃ©valiser les voyageurs.

Shu'ayb les appela Ã  l'honnÃªtetÃ© commerciale et Ã  l'abandon de l'idolÃ¢trie. Ils rÃ©pondirent avec mÃ©pris : "Tes priÃ¨res t'ordonnent-elles d'abandonner ce que nos pÃ¨res adoraient ?"

AprÃ¨s leur refus persistant, ils furent frappÃ©s par la chaleur Ã©touffante, puis par un cri terrible. Shu'ayb et les croyants furent sauvÃ©s. C'est le futur beau-pÃ¨re de MÃ»sÃ¢ ï·º.

ğŸ“¿ LeÃ§on : L'honnÃªtetÃ© dans le commerce et les affaires est une obligation spirituelle. La corruption Ã©conomique dÃ©truit les sociÃ©tÃ©s.` },

            { name: "MÃ»sÃ¢ ï·º", subtitle: "KalÃ®m Allah â€” Ã€ qui Allah a parlÃ© directement", emoji: "âš¡",
              story: `MÃ»sÃ¢ est le prophÃ¨te le plus mentionnÃ© dans le Coran (136 fois). Il grandit dans le palais de Pharaon lui-mÃªme, protÃ©gÃ© par Allah malgrÃ© l'ordre d'exterminer les nouveau-nÃ©s hÃ©breux.

Sa mÃ¨re le mit dans un panier sur le Nil â€” il fut recueilli par la femme de Pharaon. Sa sÅ“ur veillait et proposa sa mÃ¨re comme nourrice.

Adulte, aprÃ¨s avoir accidentellement tuÃ© un homme, il fuit vers Madyan oÃ¹ il vÃ©cut 10 ans. Sur le mont SinaÃ¯, Allah lui parla directement depuis un buisson ardent et lui confia sa mission : libÃ©rer les HÃ©breux de Pharaon.

Avec HÃ¢rÃ»n, ils affrontent Pharaon. Les 9 miracles s'enchaÃ®nent. Pharaon s'entÃªte. La mer se fend. Pharaon se noie au moment de dire "Je crois" â€” trop tard.

ğŸ“¿ LeÃ§on : La mission prophÃ©tique est difficile, mais Allah est avec ses Ã©lus. Ne jamais dÃ©sespÃ©rer face aux "Pharaons" de notre Ã©poque.` },

            { name: "HÃ¢rÃ»n ï·º", subtitle: "FrÃ¨re et soutien de MÃ»sÃ¢", emoji: "ğŸ—£ï¸",
              story: `HÃ¢rÃ»n est le frÃ¨re aÃ®nÃ© de MÃ»sÃ¢ ï·º. Quand Allah envoya MÃ»sÃ¢ vers Pharaon, MÃ»sÃ¢ supplia Allah : "Donne-moi un aide de ma famille, HÃ¢rÃ»n mon frÃ¨re." Allah l'exauÃ§a.

HÃ¢rÃ»n Ã©tait connu pour son Ã©loquence â€” ce que MÃ»sÃ¢ estimait lui manquer. Ensemble ils affrontÃ¨rent Pharaon.

Lorsque MÃ»sÃ¢ monta sur le mont SinaÃ¯ pour recevoir la Torah, il laissa HÃ¢rÃ»n comme guide du peuple. Mais pendant son absence, le SÃ¢mirÃ® fabriqua un veau d'or et le peuple se mit Ã  l'adorer. HÃ¢rÃ»n les en empÃªcha mais sans succÃ¨s. Au retour de MÃ»sÃ¢, HÃ¢rÃ»n lui expliqua la situation.

ğŸ“¿ LeÃ§on : Chercher de l'aide et s'entourer de gens de bien dans sa mission est une sagesse prophÃ©tique, pas une faiblesse.` },

            { name: "Dhul-Kifl ï·º", subtitle: "Le garant â€” prophÃ¨te patient", emoji: "ğŸ›¡ï¸",
              story: `Dhul-Kifl est mentionnÃ© deux fois dans le Coran (21:85 et 38:48) parmi les hommes de patience et de vertu. Son nom signifie "celui qui prend une responsabilitÃ©" ou "le garant".

Selon les exÃ©gÃ¨tes, il hÃ©rita d'un prophÃ¨te qui lui confia son peuple aprÃ¨s avoir obtenu de lui la promesse de prier la nuit, de jeÃ»ner le jour et de ne jamais se mettre en colÃ¨re injustement.

Dhul-Kifl fut mis Ã  l'Ã©preuve par Iblis qui tenta de le mettre en colÃ¨re Ã  plusieurs reprises â€” mais il resta patient et tint sa promesse.

ğŸ“¿ LeÃ§on : Tenir ses engagements et rester patient dans les Ã©preuves relationnelles est l'une des formes les plus nobles de la foi.` },

            { name: "AyyÃ»b ï·º", subtitle: "Le modÃ¨le absolu de la patience", emoji: "ğŸŒ±",
              story: `AyyÃ»b Ã©tait riche, en bonne santÃ©, avec une grande famille â€” et trÃ¨s pieux. Satan dÃ©fia Allah en disant que sa foi Ã©tait liÃ©e Ã  ses bienfaits. Allah l'autorisa Ã  l'Ã©prouver.

AyyÃ»b perdit ses biens, ses enfants, et fut atteint d'une maladie grave pendant de nombreuses annÃ©es. Seule sa femme fidÃ¨le resta Ã  ses cÃ´tÃ©s.

Jamais il ne se plaignit â€” mais il finit par supplier : "La dÃ©tresse m'a touchÃ©, et Tu es le Plus MisÃ©ricordieux des misÃ©ricordieux." (21:83) Allah le guÃ©rit, lui rendit sa famille, et doubla ses bienfaits.

ğŸ“¿ LeÃ§on : La patience (sabr) dans l'Ã©preuve est l'une des plus hautes stations spirituelles. Allah ne teste que ceux qu'Il aime.` },

            { name: "YÃ»nus ï·º", subtitle: "L'homme de la baleine â€” dua dans les tÃ©nÃ¨bres", emoji: "ğŸ‹",
              story: `YÃ»nus (Jonas) fut envoyÃ© Ã  la ville de Ninive (actuel Irak). DÃ©couragÃ© par le refus de son peuple, il quitta sa mission sans autorisation divine.

Il monta sur un bateau pris dans une tempÃªte. On tira au sort â€” le sort tomba sur YÃ»nus trois fois. Il fut avalÃ© par un grand poisson.

Dans les tÃ©nÃ¨bres (ventre du poisson, fond de la mer, nuit), il invoqua : "Il n'y a de dieu que Toi, Gloire Ã  Toi, j'ai Ã©tÃ© parmi les injustes." (21:87) â€” la dua YÃ»nus, l'une des plus puissantes.

Allah l'exauÃ§a. Le poisson le recracha sur une rive. Il retourna vers son peuple qui, entre-temps, avait cru.

ğŸ“¿ LeÃ§on : On ne fuit pas les responsabilitÃ©s que Allah nous confie. Mais mÃªme dans nos pires moments, la dua sincÃ¨re dans les tÃ©nÃ¨bres nous sauve.` },

            { name: "IlyÃ¢s ï·º", subtitle: "ProphÃ¨te d'IsraÃ«l, dÃ©fenseur du Tawhid", emoji: "ğŸŒŠ",
              story: `IlyÃ¢s (Ã‰lie) est mentionnÃ© dans le Coran (6:85 et 37:123-132). Il fut envoyÃ© aux Bani IsraÃ¯l qui adoraient l'idole Ba'l (une idole phÃ©nicienne).

Il les appela Ã  abandonner Ba'l et Ã  revenir au Dieu d'Ibrahim, mais ils le rejetÃ¨rent et refusÃ¨rent obstinÃ©ment. Cependant, certains parmi eux crurent.

Allah le sauva et lui accorda une bÃ©nÃ©diction perpÃ©tuelle : "Paix sur IlyÃ¢s !" Le Coran lui rend hommage parmi les serviteurs vertueux.

Selon certaines narrations, il est encore vivant comme Issa ï·º, et redescendra Ã  la fin des temps.

ğŸ“¿ LeÃ§on : Le tawhid (monothÃ©isme pur) est le cÅ“ur de tous les messages prophÃ©tiques. Combattre les idoles intÃ©rieures (argent, ego, gloire) est le jihad de chaque croyant.` },

            { name: "Al-Yasa' ï·º", subtitle: "Successeur d'IlyÃ¢s", emoji: "ğŸŒ¿",
              story: `Al-Yasa' (Ã‰lisÃ©e) est mentionnÃ© deux fois dans le Coran (6:86 et 38:48), parmi les Ã©lus et les meilleurs. Il fut le disciple puis le successeur d'IlyÃ¢s ï·º dans la prophÃ©tie d'IsraÃ«l.

Il continua la mission de son maÃ®tre, gardant vivant le message du tawhid parmi les Bani IsraÃ¯l Ã  une Ã©poque de grande corruption spirituelle.

Le Coran dit simplement de lui qu'il Ã©tait parmi les "akhyÃ¢r" â€” les meilleurs, les Ã©lus. Il est honorÃ© sans que beaucoup de dÃ©tails soient donnÃ©s, ce qui est lui-mÃªme un enseignement.

ğŸ“¿ LeÃ§on : Parfois la continuitÃ© discrÃ¨te de la mission est plus prÃ©cieuse que les grands Ã©clats. ÃŠtre un successeur fidÃ¨le et solide est une noblesse en soi.` },

            { name: "DÃ¢wÃ»d ï·º", subtitle: "Roi, prophÃ¨te, psalmiste", emoji: "ğŸµ",
              story: `DÃ¢wÃ»d Ã©tait un jeune berger quand il tua le gÃ©ant JalÃ»t (Goliath) d'une seule fronde, alors que toute l'armÃ©e d'IsraÃ«l reculait. Allah lui donna le royaume et la sagesse.

Il reÃ§ut les ZabÃ»r (Psaumes). Sa voix Ã©tait si belle que les oiseaux et les montagnes participaient Ã  ses louanges. Allah lui apprit Ã  forger le fer et Ã  fabriquer des armures.

DÃ¢wÃ»d priait et jeÃ»nait un jour sur deux â€” et le ProphÃ¨te ï·º dit que c'est le meilleur jeÃ»ne surÃ©rogatoire.

ğŸ“¿ LeÃ§on : Combiner la foi, la compÃ©tence (mÃ©tier, travail) et la gratitude. DÃ¢wÃ»d Ã©tait roi mais restait profondÃ©ment humble devant Allah.` },

            { name: "SulaymÃ¢n ï·º", subtitle: "MaÃ®tre des djinns, des hommes et des animaux", emoji: "ğŸ‘‘",
              story: `SulaymÃ¢n hÃ©rita du royaume de son pÃ¨re DÃ¢wÃ»d mais reÃ§ut en plus des dons uniques : il comprenait le langage des animaux et commandait les djinns et les humains.

Il reÃ§ut un message de la huppe (Hudhud) sur une reine (BilqÃ®s de Saba) qui adorait le soleil. Il l'invita Ã  l'Islam. Elle vint, fut Ã©blouie par son palais de cristal, et embrassa l'Islam.

Quand il mourut appuyÃ© sur son bÃ¢ton, les djinns continuÃ¨rent Ã  travailler sans savoir qu'il Ã©tait mort â€” jusqu'Ã  ce qu'un ver ronge le bÃ¢ton. Preuve que les djinns ne connaissent pas l'invisible.

ğŸ“¿ LeÃ§on : Le pouvoir et la richesse ne valent rien sans la reconnaissance d'Allah. SulaymÃ¢n demanda "une royautÃ© qui ne convient Ã  personne aprÃ¨s moi" pour glorifier Allah, non par orgueil.` },

            { name: "ZakariyyÃ¢ ï·º", subtitle: "PÃ¨re de YahyÃ¢ â€” priÃ¨re exaucÃ©e dans la vieillesse", emoji: "ğŸŒ¸",
              story: `ZakariyyÃ¢ Ã©tait le gardien de Maryam dans le temple. Chaque fois qu'il entrait chez elle, il trouvait de la nourriture miraculeuse. Il lui demanda d'oÃ¹ elle venait â€” elle rÃ©pondit : "Cela vient d'Allah."

Ã€ la vue de ce miracle, ZakariyyÃ¢ Ã¢gÃ© et dont la femme Ã©tait stÃ©rile supplia Allah : "Seigneur, accorde-moi de Ta part une descendance vertueuse." Allah exauÃ§a : YahyÃ¢ naquit d'une mÃ¨re stÃ©rile et d'un pÃ¨re trÃ¨s Ã¢gÃ©.

ZakariyyÃ¢ demanda un signe de confirmation â€” Allah lui dit que son signe serait de ne pas parler aux gens pendant 3 jours sauf par gestes.

ğŸ“¿ LeÃ§on : Ne jamais considÃ©rer une dua comme impossible. Allah crÃ©e la vie lÃ  oÃ¹ tout semble mort. La supplication sincÃ¨re et persistante change les destins.` },

            { name: "YahyÃ¢ ï·º", subtitle: "Jean-Baptiste â€” sagesse dÃ¨s l'enfance", emoji: "ğŸ•Šï¸",
              story: `YahyÃ¢ est le fils de ZakariyyÃ¢, nÃ© miraculeusement. Allah dit de lui dans le Coran : "Ã” YahyÃ¢ ! Prends le Livre avec fermetÃ©." Et Nous lui avons accordÃ© la sagesse dÃ¨s l'enfance." (19:12)

Il Ã©tait pur, pieux, respectueux envers ses parents, jamais arrogant ni rebelle. Le Coran dit : "Et paix sur lui le jour oÃ¹ il naquit, le jour oÃ¹ il mourut, et le jour oÃ¹ il sera ressuscitÃ© vivant." (19:15)

Il annonÃ§a la venue d'Issa ï·º et mourut martyr, tuÃ© sur ordre d'un roi tyrannique Ã  cause de son courage Ã  dire la vÃ©ritÃ©.

ğŸ“¿ LeÃ§on : La sagesse peut Ãªtre donnÃ©e dÃ¨s la jeunesse Ã  qui Allah veut. Et dire la vÃ©ritÃ© au puissant est l'une des formes les plus nobles du courage.` },

            { name: "ÃsÃ¢ ï·º", subtitle: "RÃ»h Allah â€” nÃ© sans pÃ¨re", emoji: "âœ¨",
              story: `Issa (JÃ©sus) est nÃ© miraculeusement d'une mÃ¨re vierge, Maryam. Allah lui insuffla Son Esprit.

DÃ¨s le berceau, il parla pour dÃ©fendre sa mÃ¨re : "Je suis le serviteur d'Allah ; Il m'a donnÃ© le Livre et m'a fait prophÃ¨te." (19:30)

Il guÃ©rissait les malades incurables, ressuscitait les morts, crÃ©ait des oiseaux d'argile qui s'envolaient â€” tout par la permission d'Allah.

Quand les Juifs complotÃ¨rent pour le tuer, Allah l'Ã©leva vers Lui. Il n'est pas mort sur la croix. Il redescendra sur terre Ã  la fin des temps pour briser la croix, tuer le Dajjal (faux Messie) et Ã©tablir la justice.

ğŸ“¿ LeÃ§on : Issa est un serviteur d'Allah, pas Dieu ni fils de Dieu. Sa naissance miraculeuse n'est pas plus Ã©trange que celle d'Adam â€” crÃ©Ã© sans pÃ¨re ni mÃ¨re.` },

            { name: "Muhammad ï·º", subtitle: "KhÃ¢tam an-NabiyyÃ®n â€” Le sceau des prophÃ¨tes", emoji: "ğŸŒ™",
              story: `Muhammad ï·º est nÃ© Ã  La Mecque en 570 EC, l'AnnÃ©e de l'Ã‰lÃ©phant. Orphelin tÃ´t (pÃ¨re mort avant sa naissance, mÃ¨re Ã  6 ans), Ã©levÃ© par son grand-pÃ¨re puis son oncle AbÃ» TÃ¢lib.

Il fut connu sous le nom d'"Al-AmÃ®n" (le fidÃ¨le). KhadÃ®ja, femme d'affaires prospÃ¨re, l'Ã©pousa. Ã€ 40 ans, dans la grotte de HirÃ¢, l'ange JibrÃ®l lui dit "Lis !" â€” le Coran commenÃ§a Ã  Ãªtre rÃ©vÃ©lÃ©.

La mission dura 23 ans. Face Ã  la persÃ©cution mecquoise, les musulmans Ã©migrÃ¨rent en Abyssinie puis Ã  MÃ©dine (l'HÃ©gire). Les grandes batailles : Badr, Uhud, Le FossÃ©. En 630, La Mecque fut conquise sans effusion de sang. Le ProphÃ¨te ï·º pardonna Ã  ses pires ennemis.

ğŸ“¿ LeÃ§on : "Il y a dans l'EnvoyÃ© d'Allah un excellent modÃ¨le pour vous." (33:21) Ã‰tudier sa vie, c'est apprendre Ã  vivre.` }
        ];

        // ============ ALLAH 99 NAMES (complets) ============
        const ALLAH_NAMES = [
            {n:"AllÃ¢h",a:"Ø§Ù„Ù„Ù‡",t:"Le nom suprÃªme",d:"Le nom propre d'Allah, celui que rien ni personne ne peut porter. Contient tous les attributs divins."},
            {n:"Ar-RahmÃ¢n",a:"Ø§Ù„Ø±Ø­Ù…Ù†",t:"Le Tout-MisÃ©ricordieux",d:"Sa misÃ©ricorde englobe toute crÃ©ature. Il est doux mÃªme avec les ingrats."},
            {n:"Ar-RahÃ®m",a:"Ø§Ù„Ø±Ø­ÙŠÙ…",t:"Le TrÃ¨s-MisÃ©ricordieux",d:"Sa misÃ©ricorde spÃ©ciale est pour les croyants au Jour Dernier. Il ne dÃ©Ã§oit jamais celui qui revient vers Lui."},
            {n:"Al-Malik",a:"Ø§Ù„Ù…Ù„Ùƒ",t:"Le Roi souverain",d:"Tout le pouvoir Lui appartient. Aucun roi ne peut rivaliser avec Sa RoyautÃ© absolue."},
            {n:"Al-QuddÃ»s",a:"Ø§Ù„Ù‚Ø¯ÙˆØ³",t:"Le Saint",d:"Absolument pur de tout dÃ©faut. Quand tu te sens impur, reviens vers Lui qui est la PuretÃ© mÃªme."},
            {n:"As-SalÃ¢m",a:"Ø§Ù„Ø³Ù„Ø§Ù…",t:"La Paix",d:"Il est la source de toute paix. 'As-salÃ¢mu alaykum' rappelle qu'Allah est As-SalÃ¢m."},
            {n:"Al-Mu'min",a:"Ø§Ù„Ù…Ø¤Ù…Ù†",t:"Le Garant",d:"Il sÃ©curise Ses servants contre toute injustice. Nul n'est lÃ©sÃ© auprÃ¨s de Lui."},
            {n:"Al-Muhaymin",a:"Ø§Ù„Ù…Ù‡ÙŠÙ…Ù†",t:"Le PrÃ©dominant",d:"Il veille sur toute chose, contrÃ´le et protÃ¨ge. Rien ne Lui Ã©chappe."},
            {n:"Al-'AzÃ®z",a:"Ø§Ù„Ø¹Ø²ÙŠØ²",t:"Le Tout-Puissant",d:"Sa puissance est inÃ©galable. En Lui seul trouve-t-on la vraie force."},
            {n:"Al-JabbÃ¢r",a:"Ø§Ù„Ø¬Ø¨Ø§Ø±",t:"Le RÃ©parateur",d:"Il rÃ©pare les cÅ“urs brisÃ©s. Viens Ã  Lui avec tes fractures â€” Il est le seul Ã  pouvoir les souder."},
            {n:"Al-Mutakabbir",a:"Ø§Ù„Ù…ØªÙƒØ¨Ø±",t:"Le Superbe",d:"La grandeur appartient Ã  Lui seul. L'orgueil humain est une usurpation de cet attribut."},
            {n:"Al-KhÃ¢liq",a:"Ø§Ù„Ø®Ø§Ù„Ù‚",t:"Le CrÃ©ateur",d:"Il crÃ©e de rien. Chaque fois que tu observes la nature, tu vois Son Å“uvre."},
            {n:"Al-BÃ¢ri'",a:"Ø§Ù„Ø¨Ø§Ø±Ø¦",t:"Le Producteur",d:"Il faÃ§onne les formes Ã  partir de la matiÃ¨re. L'ordre parfait du cosmos tÃ©moigne de Lui."},
            {n:"Al-Musawwir",a:"Ø§Ù„Ù…ØµÙˆØ±",t:"Le FaÃ§onneur",d:"Il donne Ã  chaque crÃ©ature sa forme unique. Ton visage, tes empreintes â€” personne ne te ressemble."},
            {n:"Al-GhaffÃ¢r",a:"Ø§Ù„ØºÙØ§Ø±",t:"Le Grand Pardonneur",d:"Il pardonne encore et encore, sans limite. Ne dÃ©sespÃ¨re jamais de Sa misÃ©ricorde."},
            {n:"Al-QahhÃ¢r",a:"Ø§Ù„Ù‚Ù‡Ø§Ø±",t:"Le Dominateur",d:"Il maÃ®trise toutes choses. Aucun tyran, aucune maladie ne Lui rÃ©siste."},
            {n:"Al-WahhÃ¢b",a:"Ø§Ù„ÙˆÙ‡Ø§Ø¨",t:"Le Tout-Donateur",d:"Il donne sans qu'on Lui demande, sans condition. Chaque respiration est un cadeau."},
            {n:"Ar-RazzÃ¢q",a:"Ø§Ù„Ø±Ø²Ø§Ù‚",t:"Le Pourvoyeur",d:"Il assure la subsistance de chaque crÃ©ature. Fais confiance â€” Il pourvoira."},
            {n:"Al-FattÃ¢h",a:"Ø§Ù„ÙØªØ§Ø­",t:"L'Ouvreur des portes",d:"Quand toutes les portes semblent fermÃ©es, Il peut en ouvrir une que tu n'imaginais pas."},
            {n:"Al-'AlÃ®m",a:"Ø§Ù„Ø¹Ù„ÙŠÙ…",t:"L'Omniscient",d:"Il sait tout â€” tes pensÃ©es secrÃ¨tes, tes douleurs cachÃ©es. Rien n'est trop petit pour Son attention."},
            {n:"Al-QÃ¢bid",a:"Ø§Ù„Ù‚Ø§Ø¨Ø¶",t:"Celui qui retient",d:"Il resserre les provisions quand Il veut â€” c'est une Ã©preuve, pas un abandon."},
            {n:"Al-BÃ¢sit",a:"Ø§Ù„Ø¨Ø§Ø³Ø·",t:"Celui qui Ã©tend",d:"Il Ã©largit les provisions quand Il veut. AprÃ¨s la contraction vient l'expansion."},
            {n:"Al-KhÃ¢fid",a:"Ø§Ù„Ø®Ø§ÙØ¶",t:"Celui qui abaisse",d:"Il abaisse les orgueilleux et ceux qui oppriment. Pas de hauteur sans Sa permission."},
            {n:"Ar-RÃ¢fi'",a:"Ø§Ù„Ø±Ø§ÙØ¹",t:"Celui qui Ã©lÃ¨ve",d:"Il Ã©lÃ¨ve qui Il veut en dignitÃ©, en rang, en foi. Seul Lui peut te hisser vraiment."},
            {n:"Al-Mu'izz",a:"Ø§Ù„Ù…Ø¹Ø²",t:"Celui qui honore",d:"L'honneur vÃ©ritable ne vient que de Lui. Cherche Sa satisfaction â€” et Il t'honorera."},
            {n:"Al-Mudhill",a:"Ø§Ù„Ù…Ø°Ù„",t:"Celui qui humilie",d:"Il humilie ceux qui usurpent Ses attributs ou oppriment Ses serviteurs."},
            {n:"As-SamÃ®'",a:"Ø§Ù„Ø³Ù…ÙŠØ¹",t:"L'Audient",d:"Il entend chaque dua murmurÃ© dans la nuit. Tu n'as jamais besoin de crier pour Ãªtre entendu."},
            {n:"Al-BasÃ®r",a:"Ø§Ù„Ø¨ØµÙŠØ±",t:"Le Clairvoyant",d:"Il voit tout, y compris ce que tu caches. Invitation Ã  Ãªtre le mÃªme en public et en privÃ©."},
            {n:"Al-Hakam",a:"Ø§Ù„Ø­ÙƒÙ…",t:"Le Juge",d:"Il juge avec la justice parfaite. Nul ne sera lÃ©sÃ© au Jour du Jugement."},
            {n:"Al-'Adl",a:"Ø§Ù„Ø¹Ø¯Ù„",t:"Le Juste",d:"Sa justice est absolue et infaillible. Tout ce qui arrive a une sagesse, mÃªme si tu ne la vois pas."},
            {n:"Al-LatÃ®f",a:"Ø§Ù„Ù„Ø·ÙŠÙ",t:"Le Subtil",d:"Il agit de faÃ§on dÃ©licate, imperceptible. Il t'a guidÃ© bien des fois sans que tu t'en rendes compte."},
            {n:"Al-KhabÃ®r",a:"Ø§Ù„Ø®Ø¨ÙŠØ±",t:"Le Bien-InformÃ©",d:"Il connaÃ®t les dÃ©tails les plus fins de toute chose. Rien ne Lui est cachÃ©."},
            {n:"Al-HalÃ®m",a:"Ø§Ù„Ø­Ù„ÙŠÙ…",t:"Le ClÃ©ment",d:"Il ne se prÃ©cipite pas dans la punition. Sa clÃ©mence est un espace pour le repentir."},
            {n:"Al-'AzÃ®m",a:"Ø§Ù„Ø¹Ø¸ÙŠÙ…",t:"L'Immense",d:"Sa grandeur dÃ©passe toute comprÃ©hension humaine. Ayat al-KursÃ® : 'Et Il n'Ã©prouve nulle fatigue Ã  les garder. Il est le TrÃ¨s-Haut, l'Immense.'"},
            {n:"Al-GhafÃ»r",a:"Ø§Ù„ØºÙÙˆØ±",t:"Le Pardonneur",d:"Il pardonne immensÃ©ment. Parmi Ses noms les plus rÃ©currents dans le Coran â€” c'est un message pour nous."},
            {n:"Ash-ShakÃ»r",a:"Ø§Ù„Ø´ÙƒÙˆØ±",t:"Le TrÃ¨s-Reconnaissant",d:"Il rÃ©compense mÃªme le petit effort au-delÃ  de ce qu'on mÃ©rite."},
            {n:"Al-'Aliyy",a:"Ø§Ù„Ø¹Ù„ÙŠ",t:"Le TrÃ¨s-Haut",d:"Il est au-dessus de tout. S'humilier devant Lui est la vraie Ã©lÃ©vation."},
            {n:"Al-KabÃ®r",a:"Ø§Ù„ÙƒØ¨ÙŠØ±",t:"Le TrÃ¨s-Grand",d:"Sa grandeur est sans limite. Tout ce que tu considÃ¨res grand est infime devant Lui."},
            {n:"Al-HafÃ®z",a:"Ø§Ù„Ø­ÙÙŠØ¸",t:"Le Gardien",d:"Il prÃ©serve toute chose dans l'existence. Il te protÃ¨ge, toi et ceux que tu aimes, mÃªme quand tu dors."},
            {n:"Al-MuqÃ®t",a:"Ø§Ù„Ù…Ù‚ÙŠØª",t:"Le Nourricier",d:"Il nourrit et sustente toute crÃ©ature. Aucun Ãªtre ne manque de ce dont il a besoin sans que ce soit Sa volontÃ©."},
            {n:"Al-HasÃ®b",a:"Ø§Ù„Ø­Ø³ÙŠØ¨",t:"Le Comptable",d:"Il tient compte de tout. C'est une invitation Ã  faire bonne action mÃªme quand personne ne regarde."},
            {n:"Al-JalÃ®l",a:"Ø§Ù„Ø¬Ù„ÙŠÙ„",t:"Le Majestueux",d:"Sa majestÃ© inspire la crainte rÃ©vÃ©rencielle (khachya). Se prosterner devant Lui est un honneur."},
            {n:"Al-KarÃ®m",a:"Ø§Ù„ÙƒØ±ÙŠÙ…",t:"Le Tout-GÃ©nÃ©reux",d:"Sa gÃ©nÃ©rositÃ© est sans fond. Demande-Lui â€” Il n'est jamais avare."},
            {n:"Ar-RaqÃ®b",a:"Ø§Ù„Ø±Ù‚ÙŠØ¨",t:"L'Observateur",d:"Il observe tout sans exception. L'ihlÃ¢s (sincÃ©ritÃ©) consiste Ã  agir comme si tu Le voyais."},
            {n:"Al-MujÃ®b",a:"Ø§Ù„Ù…Ø¬ÙŠØ¨",t:"Celui qui exauce",d:"Il rÃ©pond Ã  chaque invocation â€” parfois immÃ©diatement, parfois diffÃ©rÃ©, parfois autrement. Mais Il rÃ©pond toujours."},
            {n:"Al-WÃ¢si'",a:"Ø§Ù„ÙˆØ§Ø³Ø¹",t:"Le Vaste",d:"Sa capacitÃ©, Sa science, Sa misÃ©ricorde â€” tout est vaste. 'OÃ¹ que vous vous tourniez, lÃ  est le visage d'Allah.' (2:115)"},
            {n:"Al-HakÃ®m",a:"Ø§Ù„Ø­ÙƒÙŠÙ…",t:"Le Sage",d:"Tout ce qu'Il fait a une sagesse profonde. Accepter ce qu'on ne comprend pas est une forme de foi."},
            {n:"Al-WadÃ»d",a:"Ø§Ù„ÙˆØ¯ÙˆØ¯",t:"L'Affectueux",d:"Il est le seul Ã  t'aimer inconditionnellement, parfaitement et pour toujours. Son amour ne faiblit jamais."},
            {n:"Al-MajÃ®d",a:"Ø§Ù„Ù…Ø¬ÙŠØ¯",t:"Le Tout-Glorieux",d:"Sa gloire est parfaite. Il honore ceux qui L'honorent."},
            {n:"Al-BÃ¢'ith",a:"Ø§Ù„Ø¨Ø§Ø¹Ø«",t:"Celui qui ressuscite",d:"Il ressuscitera tous les morts. La mort n'est qu'une transition. Ne crains que Lui."},
            {n:"Ash-ShahÃ®d",a:"Ø§Ù„Ø´Ù‡ÙŠØ¯",t:"Le TÃ©moin",d:"Il est tÃ©moin de tout, partout, Ã  chaque instant. Aucun acte ne Lui Ã©chappe."},
            {n:"Al-Haqq",a:"Ø§Ù„Ø­Ù‚",t:"Le Vrai",d:"Il est la seule rÃ©alitÃ© absolue. Tout le reste est Ã©phÃ©mÃ¨re. S'attacher Ã  Lui, c'est s'attacher Ã  l'Ã©ternel."},
            {n:"Al-WakÃ®l",a:"Ø§Ù„ÙˆÙƒÙŠÙ„",t:"Le GÃ©rant",d:"'Hasbunallah wa ni'mal wakÃ®l' â€” Allah nous suffit, et quel excellent reprÃ©sentant ! Confie-Lui tes affaires."},
            {n:"Al-Qawiyy",a:"Ø§Ù„Ù‚ÙˆÙŠ",t:"Le Fort",d:"Sa force est parfaite et Ã©ternelle. Quand tu te sens faible, appuie-toi sur Lui."},
            {n:"Al-MatÃ®n",a:"Ø§Ù„Ù…ØªÙŠÙ†",t:"Le Robuste",d:"Sa puissance est inÃ©branlable. Il ne peut Ãªtre diminuÃ© par rien."},
            {n:"Al-Waliyy",a:"Ø§Ù„ÙˆÙ„ÙŠ",t:"Le Protecteur alliÃ©",d:"Il est le protecteur des croyants. 'Allah est le protecteur de ceux qui croient.' (2:257)"},
            {n:"Al-HamÃ®d",a:"Ø§Ù„Ø­Ù…ÙŠØ¯",t:"Le Digne de Louange",d:"Toute louange Lui revient, qu'on Le loue ou non. 'Al-Hamdu lillah' â€” la louange appartient Ã  Allah."},
            {n:"Al-MuhsÃ®",a:"Ø§Ù„Ù…Ø­ØµÙŠ",t:"Celui qui dÃ©nombre",d:"Il compte chaque chose, jusqu'au moindre atome. Rien n'est perdu devant Lui."},
            {n:"Al-Mubdi'",a:"Ø§Ù„Ù…Ø¨Ø¯Ø¦",t:"L'Auteur",d:"Il a commencÃ© la crÃ©ation sans modÃ¨le prÃ©alable. Il crÃ©e l'inÃ©dit."},
            {n:"Al-Mu'Ã®d",a:"Ø§Ù„Ù…Ø¹ÙŠØ¯",t:"Celui qui recommence",d:"Il recommencera la crÃ©ation au Jour de la RÃ©surrection. Ce qui a Ã©tÃ© crÃ©Ã© une fois peut l'Ãªtre Ã  nouveau."},
            {n:"Al-MuhyÃ®",a:"Ø§Ù„Ù…Ø­ÙŠÙŠ",t:"Celui qui fait vivre",d:"Il donne la vie. Il peut vivifier un cÅ“ur mort, une communautÃ© morte, une foi morte."},
            {n:"Al-MumÃ®t",a:"Ø§Ù„Ù…Ù…ÙŠØª",t:"Celui qui fait mourir",d:"La mort est en Son pouvoir. Elle n'est pas une fin mais une transition vers Lui."},
            {n:"Al-Hayy",a:"Ø§Ù„Ø­ÙŠ",t:"Le Vivant",d:"Il vit d'une vie parfaite et Ã©ternelle. Ayat al-KursÃ® : 'Al-Hayy Al-QayyÃ»m' â€” les deux noms les plus puissants."},
            {n:"Al-QayyÃ»m",a:"Ø§Ù„Ù‚ÙŠÙˆÙ…",t:"Le Subsistant",d:"Il se suffit Ã  Lui-mÃªme et tout dÃ©pend de Lui. Sans Lui, rien ne subsisterait un seul instant."},
            {n:"Al-WÃ¢jid",a:"Ø§Ù„ÙˆØ§Ø¬Ø¯",t:"L'Opulent",d:"Il ne manque jamais de rien. Sa richesse est infinie."},
            {n:"Al-MÃ¢jid",a:"Ø§Ù„Ù…Ø§Ø¬Ø¯",t:"Le Noble",d:"Sa noblesse est parfaite â€” dans Ses actes et Ses dons."},
            {n:"Al-WÃ¢hid",a:"Ø§Ù„ÙˆØ§Ø­Ø¯",t:"L'Unique",d:"Il est Un sans associÃ©, sans semblable. 'Qul Huwallahu Ahad' â€” tout part de lÃ ."},
            {n:"Al-Ahad",a:"Ø§Ù„Ø£Ø­Ø¯",t:"L'Un",d:"Absolument Un, indivisible, incomparable. La base de tout le tawhid."},
            {n:"As-Samad",a:"Ø§Ù„ØµÙ…Ø¯",t:"Le Soutien universel",d:"Tout le monde a besoin de Lui. Lui n'a besoin de personne. 'Allahus-Samad' (112:2)."},
            {n:"Al-QÃ¢dir",a:"Ø§Ù„Ù‚Ø§Ø¯Ø±",t:"Le Puissant",d:"Il peut tout faire. Aucune demande n'est trop grande pour Lui."},
            {n:"Al-Muqtadir",a:"Ø§Ù„Ù…Ù‚ØªØ¯Ø±",t:"Le Tout-Puissant",d:"Sa puissance s'exerce pleinement sur tout. Rien ne peut Lui rÃ©sister."},
            {n:"Al-Muqaddim",a:"Ø§Ù„Ù…Ù‚Ø¯Ù…",t:"Celui qui met en avant",d:"Il avance qui Il veut dans le rang, le mÃ©rite, la mission."},
            {n:"Al-Mu'akhkhir",a:"Ø§Ù„Ù…Ø¤Ø®Ø±",t:"Celui qui reporte",d:"Il diffÃ¨re ce qu'Il veut par sagesse. Un retard d'Allah n'est jamais un refus."},
            {n:"Al-Awwal",a:"Ø§Ù„Ø£ÙˆÙ„",t:"Le Premier",d:"Il est avant toute chose. Il n'y avait rien avant Lui."},
            {n:"Al-Ã‚khir",a:"Ø§Ù„Ø¢Ø®Ø±",t:"Le Dernier",d:"Il demeure aprÃ¨s toute chose. Quand tout disparaÃ®t, Il reste."},
            {n:"Az-ZÃ¢hir",a:"Ø§Ù„Ø¸Ø§Ù‡Ø±",t:"L'Apparent",d:"Il est apparent par Ses signes dans la crÃ©ation. L'univers crie Son existence."},
            {n:"Al-BÃ¢tin",a:"Ø§Ù„Ø¨Ø§Ø·Ù†",t:"Le CachÃ©",d:"Sa Essence est inaccessible Ã  l'esprit humain. On Le connaÃ®t par Ses noms et attributs, pas par Sa nature."},
            {n:"Al-WÃ¢lÃ®",a:"Ø§Ù„ÙˆØ§Ù„ÙŠ",t:"Le MaÃ®tre",d:"Il gouverne et administre toute la crÃ©ation avec une prÃ©cision parfaite."},
            {n:"Al-Muta'Ã¢lÃ®",a:"Ø§Ù„Ù…ØªØ¹Ø§Ù„ÙŠ",t:"Le Sublime",d:"Il est au-dessus de tout ce qu'on peut imaginer. Toute comparaison Le diminue."},
            {n:"Al-Barr",a:"Ø§Ù„Ø¨Ø±",t:"Le Bienfaisant",d:"Il est plein de bontÃ© envers Ses crÃ©atures. MÃªme les non-croyants bÃ©nÃ©ficient de Sa bontÃ© en ce monde."},
            {n:"At-TawwÃ¢b",a:"Ø§Ù„ØªÙˆØ§Ø¨",t:"L'Accueillant au repentir",d:"Il accepte le repentir encore et encore. Chaque retour vers Lui est une nouvelle naissance."},
            {n:"Al-Muntaqim",a:"Ø§Ù„Ù…Ù†ØªÙ‚Ù…",t:"Le Vengeur",d:"Il prend vengeance des oppresseurs. Jamais les tyrans ne s'en tirent vraiment."},
            {n:"Al-'Afuww",a:"Ø§Ù„Ø¹ÙÙˆ",t:"L'Indulgent",d:"Il efface les fautes sans mÃªme les rappeler. 'AllÃ¢humma innaka 'afuwwun tuhibb al-'afw fa'fu 'annÃ®.'"},
            {n:"Ar-Ra'Ã»f",a:"Ø§Ù„Ø±Ø¤ÙˆÙ",t:"Le Bienveillant",d:"Sa bienveillance va au-delÃ  de la misÃ©ricorde â€” c'est une tendresse douce et attentive."},
            {n:"MÃ¢lik-ul-Mulk",a:"Ù…Ø§Ù„Ùƒ Ø§Ù„Ù…Ù„Ùƒ",t:"MaÃ®tre du Royaume",d:"Tout appartient Ã  Allah. Nous n'en sommes que des dÃ©positaires temporaires."},
            {n:"Dhul-JalÃ¢l-wal-IkrÃ¢m",a:"Ø°Ùˆ Ø§Ù„Ø¬Ù„Ø§Ù„ ÙˆØ§Ù„Ø¥ÙƒØ±Ø§Ù…",t:"Possesseur de la MajestÃ©",d:"Le plus beau des noms selon certains savants. Combines la grandeur et la gÃ©nÃ©rositÃ©."},
            {n:"Al-Muqsit",a:"Ø§Ù„Ù…Ù‚Ø³Ø·",t:"L'Ã‰quitable",d:"Il Ã©tablit la justice parfaite. Ce qui semble injuste en ce monde sera corrigÃ© au Jour Dernier."},
            {n:"Al-JÃ¢mi'",a:"Ø§Ù„Ø¬Ø§Ù…Ø¹",t:"Le Rassembleur",d:"Il rassemble tout au Jour du Jugement. Il peut rassembler ce qui Ã©tait sÃ©parÃ©."},
            {n:"Al-Ghaniyy",a:"Ø§Ù„ØºÙ†ÙŠ",t:"Le Riche",d:"Il n'a besoin de rien. Nos actes d'adoration ne L'enrichissent pas â€” ils nous enrichissent, nous."},
            {n:"Al-MughnÃ®",a:"Ø§Ù„Ù…ØºÙ†ÙŠ",t:"Celui qui enrichit",d:"Il enrichit qui Il veut. La vraie richesse est la richesse du cÅ“ur qu'Il donne."},
            {n:"Al-MÃ¢ni'",a:"Ø§Ù„Ù…Ø§Ù†Ø¹",t:"Le DÃ©fenseur",d:"Il repousse et protÃ¨ge quand Il veut. Aucune protection n'est plus sÃ»re que la Sienne."},
            {n:"Ad-DÃ¢rr",a:"Ø§Ù„Ø¶Ø§Ø±",t:"Celui qui peut nuire",d:"Le mal ne peut atteindre que par Sa permission. C'est une invitation Ã  Le craindre uniquement Lui."},
            {n:"An-NÃ¢fi'",a:"Ø§Ù„Ù†Ø§ÙØ¹",t:"L'Utile",d:"Tout bÃ©nÃ©fice vient de Lui. Cherche Ses voies pour trouver ce qui te profite vraiment."},
            {n:"An-NÃ»r",a:"Ø§Ù„Ù†ÙˆØ±",t:"La LumiÃ¨re",d:"Il est la LumiÃ¨re des cieux et de la terre. Verset de la LumiÃ¨re (24:35). Demande-Lui la lumiÃ¨re du cÅ“ur."},
            {n:"Al-HÃ¢dÃ®",a:"Ø§Ù„Ù‡Ø§Ø¯ÙŠ",t:"Le Guide",d:"Il guide qui Il veut. Personne ne peut guider si Allah ne guide pas. Demande-Lui la guidance chaque jour."},
            {n:"Al-BadÃ®'",a:"Ø§Ù„Ø¨Ø¯ÙŠØ¹",t:"L'Inventeur",d:"Il crÃ©e des choses sans prÃ©cÃ©dent. Sa crÃ©ativitÃ© est sans limite."},
            {n:"Al-BÃ¢qÃ®",a:"Ø§Ù„Ø¨Ø§Ù‚ÙŠ",t:"Le Permanent",d:"Il dure Ã©ternellement. Tout ce que tu aimes passera â€” Lui seul demeure."},
            {n:"Al-WÃ¢rith",a:"Ø§Ù„ÙˆØ§Ø±Ø«",t:"L'HÃ©ritier",d:"Tout reviendra Ã  Lui au final. Nous ne sommes que de passage."},
            {n:"Ar-RashÃ®d",a:"Ø§Ù„Ø±Ø´ÙŠØ¯",t:"Le Droit",d:"Il dirige toutes choses vers leur fin juste et parfaite. Sa guidance ne dÃ©vie jamais."},
            {n:"As-SabÃ»r",a:"Ø§Ù„ØµØ¨ÙˆØ±",t:"Le Patient",d:"Il ne Se prÃ©cipite pas dans la punition. Sa patience est un espace pour ton repentir. Ne confonds pas ce dÃ©lai avec de l'indiffÃ©rence."}
        ];
        window.ALLAH_NAMES = ALLAH_NAMES; // expose globally for non-module scripts

        // ============ ARABIC LETTERS ============
        const ARABIC_LETTERS = [
            {l:"Ø§",n:"Alif",s:"Ã¢ / a",ex:"Ø£ÙÙ„ÙÙ… (Alam - douleur)"},
            {l:"Ø¨",n:"BÃ¢",s:"b",ex:"Ø¨ÙÙŠØª (Bayt - maison)"},
            {l:"Øª",n:"TÃ¢",s:"t",ex:"ØªÙÙˆØ¨Ø© (Tawba - repentir)"},
            {l:"Ø«",n:"ThÃ¢",s:"th (anglais)",ex:"Ø«ÙÙˆØ§Ø¨ (ThawÃ¢b - rÃ©compense)"},
            {l:"Ø¬",n:"JÃ®m",s:"dj",ex:"Ø¬ÙÙ†ÙÙ‘Ø© (Janna - paradis)"},
            {l:"Ø­",n:"HÃ¢",s:"h aspirÃ©",ex:"Ø­ÙÙ…Ø¯ (Hamd - louange)"},
            {l:"Ø®",n:"KhÃ¢",s:"kh (r guttural)",ex:"Ø®ÙÙŠØ± (Khayr - bien)"},
            {l:"Ø¯",n:"DÃ¢l",s:"d",ex:"Ø¯ÙØ¹Ø§Ø¡ (Du'Ã¢ - invocation)"},
            {l:"Ø°",n:"DhÃ¢l",s:"dh (th anglais)",ex:"Ø°ÙÙƒØ± (Dhikr - rappel d'Allah)"},
            {l:"Ø±",n:"RÃ¢",s:"r roulÃ©",ex:"Ø±ÙØ­Ù…Ø© (Rahma - misÃ©ricorde)"},
            {l:"Ø²",n:"ZÃ¢y",s:"z",ex:"Ø²ÙÙƒØ§Ø© (ZakÃ¢t - aumÃ´ne)"},
            {l:"Ø³",n:"SÃ®n",s:"s",ex:"Ø³ÙÙ„Ø§Ù… (SalÃ¢m - paix)"},
            {l:"Ø´",n:"ShÃ®n",s:"ch",ex:"Ø´ÙÙƒØ± (Shukr - gratitude)"},
            {l:"Øµ",n:"SÃ¢d",s:"s emphatique",ex:"ØµÙØ¨Ø± (Sabr - patience)"},
            {l:"Ø¶",n:"DÃ¢d",s:"d emphatique",ex:"Ø¶ÙÙˆØ¡ (Daw' - lumiÃ¨re)"},
            {l:"Ø·",n:"TÃ¢",s:"t emphatique",ex:"Ø·ÙÙ‡Ø§Ø±Ø© (TahÃ¢ra - puretÃ©)"},
            {l:"Ø¸",n:"DhÃ¢",s:"dh emphatique",ex:"Ø¸ÙÙÙØ± (Dhafar - victoire)"},
            {l:"Ø¹",n:"'Ayn",s:"' (voyelle guttural)",ex:"Ø¹ÙÙ„Ù… ('Ilm - savoir)"},
            {l:"Øº",n:"Ghayn",s:"gh (r parisien)",ex:"ØºÙÙÙÙˆØ± (GhafÃ»r - pardonneur)"},
            {l:"Ù",n:"FÃ¢",s:"f",ex:"ÙÙØ¬Ø± (Fajr - aube)"},
            {l:"Ù‚",n:"QÃ¢f",s:"q guttural",ex:"Ù‚ÙØ±Ø¢Ù† (Qur'Ã¢n)"},
            {l:"Ùƒ",n:"KÃ¢f",s:"k",ex:"ÙƒÙØªØ§Ø¨ (KitÃ¢b - livre)"},
            {l:"Ù„",n:"LÃ¢m",s:"l",ex:"Ù„ÙÙŠÙ„ (Layl - nuit)"},
            {l:"Ù…",n:"MÃ®m",s:"m",ex:"Ù…ÙØ³Ø¬Ø¯ (Masjid - mosquÃ©e)"},
            {l:"Ù†",n:"NÃ»n",s:"n",ex:"Ù†ÙÙˆØ± (NÃ»r - lumiÃ¨re)"},
            {l:"Ù‡",n:"HÃ¢",s:"h doux",ex:"Ù‡ÙØ¯Ø§ÙŠØ© (HidÃ¢ya - guidance)"},
            {l:"Ùˆ",n:"WÃ¢w",s:"w / Ã»",ex:"ÙˆÙØ¶ÙˆØ¡ (WudÃ» - ablutions)"},
            {l:"ÙŠ",n:"YÃ¢",s:"y / Ã®",ex:"ÙŠÙÙ‚ÙŠÙ† (YaqÃ®n - certitude)"}
        ];

        const VOWELS = [
            {v:"Ù",n:"Fatha",s:"a court",ex:"ÙƒÙ = ka"},
            {v:"Ù",n:"Kasra",s:"i court",ex:"ÙƒÙ = ki"},
            {v:"Ù",n:"Damma",s:"u court",ex:"ÙƒÙ = ku"},
            {v:"Ù‹",n:"TanwÃ®n fath",s:"an",ex:"ÙƒØªØ§Ø¨Ø§Ù‹ = kitÃ¢ban"},
            {v:"Ù",n:"TanwÃ®n kasr",s:"in",ex:"ÙƒØªØ§Ø¨Ù = kitÃ¢bin"},
            {v:"ÙŒ",n:"TanwÃ®n damm",s:"un",ex:"ÙƒØªØ§Ø¨ÙŒ = kitÃ¢bun"},
            {v:"Ù’",n:"SukÃ»n",s:"pas de voyelle",ex:"ÙƒÙ’ = k (silencieux)"},
            {v:"Ù‘",n:"Shadda",s:"lettre doublÃ©e",ex:"Ù…Ø­Ù…ÙÙ‘Ø¯ = Muham-mad"}
        ];

        // ============ DUAS ============
        const BUILT_IN_DUAS = [
            {title:"Dua YÃ»nus", arabic:"Ù„ÙÙ‘Ø§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø£ÙÙ†ØªÙ Ø³ÙØ¨Ù’Ø­ÙØ§Ù†ÙÙƒÙ Ø¥ÙÙ†ÙÙ‘ÙŠ ÙƒÙÙ†ØªÙ Ù…ÙÙ†Ù Ø§Ù„Ø¸ÙÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†Ù", transliteration:"LÃ¢ ilÃ¢ha illÃ¢ anta subhÃ¢naka innÃ® kuntu min adh-dhÃ¢limÃ®n", translation:"Il n'y a de dieu que Toi, Gloire Ã  Toi, j'ai Ã©tÃ© parmi les injustes.", context:"RÃ©citÃ©e par YÃ»nus dans le ventre de la baleine. Puissante dans les moments de dÃ©tresse."},
            {title:"Dua du Fajr (matin)", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§", transliteration:"AllÃ¢humma bika asbahna wa bika amsayna", translation:"Ã” Allah, c'est par Toi que nous entrons dans le matin et par Toi que nous entrons dans le soir.", context:"Ã€ rÃ©citer au rÃ©veil, avant de commencer la journÃ©e."},
            {title:"Dua du Soir", arabic:"Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙÙ‘Ù‡Ù", transliteration:"AmsaynÃ¢ wa amsal-mulku lillÃ¢h", translation:"Nous voici dans le soir et le royaume appartient Ã  Allah.", context:"Ã€ rÃ©citer au coucher du soleil."},
            {title:"Dua de l'anxiÃ©tÃ©", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’Ù‡ÙÙ…ÙÙ‘ ÙˆÙØ§Ù„Ù’Ø­ÙØ²ÙÙ†Ù", transliteration:"AllÃ¢humma innÃ® a'Ã»dhu bika min al-hamm wal-hazan", translation:"Ã” Allah, je cherche refuge en Toi contre l'inquiÃ©tude et la tristesse.", context:"Quand le cÅ“ur est lourd, rÃ©cite cela 7 fois."},
            {title:"IstikhÃ¢ra", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’ØªÙØ®ÙÙŠØ±ÙÙƒÙ Ø¨ÙØ¹ÙÙ„Ù’Ù…ÙÙƒÙ", transliteration:"AllÃ¢humma innÃ® astakhÃ®ruka bi'ilmika wa astaqdiruka biqudratika", translation:"Ã” Allah, je Te demande conseil par Ta science et je Te demande la capacitÃ© par Ta puissance.", context:"Avant toute dÃ©cision importante. Prie 2 rak'as puis rÃ©cite cette dua."},
            {title:"Pour le savoir utile", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø§Ù†Ù’ÙÙØ¹Ù’Ù†ÙÙŠ Ø¨ÙÙ…ÙØ§ Ø¹ÙÙ„ÙÙ‘Ù…Ù’ØªÙÙ†ÙÙŠ", transliteration:"AllÃ¢humma anfa'nÃ® bimÃ¢ 'allamtanÃ® wa 'allimnÃ® mÃ¢ yanfa'unÃ®", translation:"Ã” Allah, fais-moi profiter de ce que Tu m'as enseignÃ©, et enseigne-moi ce qui m'est utile.", context:"Avant d'Ã©tudier, de lire le Coran, ou de chercher Ã  apprendre."},
            {title:"Dua Laylat al-Qadr", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙƒÙ Ø¹ÙÙÙÙˆÙŒÙ‘ ØªÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙÙÙ’ÙˆÙ ÙÙØ§Ø¹Ù’ÙÙ Ø¹ÙÙ†ÙÙ‘ÙŠ", transliteration:"AllÃ¢humma innaka 'afuwwun tuhibb al-'afw fa'fu 'annÃ®", translation:"Ã” Allah, Tu es l'Indulgent, Tu aimes l'indulgence, alors sois indulgent envers moi.", context:"La dua que le ProphÃ¨te ï·º recommanda Ã  Aisha pour la Nuit du Destin."}
        ];

        // ============ QURAN SURAHS ============
        const SURAHS = ["Al-Fatiha","Al-Baqarah","Al-Imran","An-Nisa","Al-Ma'idah","Al-An'am","Al-A'raf","Al-Anfal","At-Tawbah","Yunus","Hud","Yusuf","Ar-Ra'd","Ibrahim","Al-Hijr","An-Nahl","Al-Isra","Al-Kahf","Maryam","Ta-Ha","Al-Anbiya","Al-Hajj","Al-Mu'minun","An-Nur","Al-Furqan","Ash-Shu'ara","An-Naml","Al-Qasas","Al-Ankabut","Ar-Rum","Luqman","As-Sajdah","Al-Ahzab","Saba","Fatir","Ya-Sin","As-Saffat","Sad","Az-Zumar","Ghafir","Fussilat","Ash-Shura","Az-Zukhruf","Ad-Dukhan","Al-Jathiyah","Al-Ahqaf","Muhammad","Al-Fath","Al-Hujurat","Qaf","Ad-Dhariyat","At-Tur","An-Najm","Al-Qamar","Ar-Rahman","Al-Waqi'ah","Al-Hadid","Al-Mujadila","Al-Hashr","Al-Mumtahanah","As-Saff","Al-Jumu'ah","Al-Munafiqun","At-Taghabun","At-Talaq","At-Tahrim","Al-Mulk","Al-Qalam","Al-Haqqah","Al-Ma'arij","Nuh","Al-Jinn","Al-Muzzammil","Al-Muddathir","Al-Qiyamah","Al-Insan","Al-Mursalat","An-Naba","An-Nazi'at","Abasa","At-Takwir","Al-Infitar","Al-Mutaffifin","Al-Inshiqaq","Al-Buruj","At-Tariq","Al-A'la","Al-Ghashiyah","Al-Fajr","Al-Balad","Ash-Shams","Al-Layl","Ad-Duha","Ash-Sharh","At-Tin","Al-Alaq","Al-Qadr","Al-Bayyinah","Az-Zalzalah","Al-Adiyat","Al-Qari'ah","At-Takathur","Al-Asr","Al-Humazah","Al-Fil","Quraysh","Al-Ma'un","Al-Kawthar","Al-Kafirun","An-Nasr","Al-Masad","Al-Ikhlas","Al-Falaq","An-Nas"];

        // ============ SPIRITUAL VERSES ============
        const VERSES_BY_MOOD = {
            fatigue:[{t:"AprÃ¨s la difficultÃ© vient la facilitÃ©.",r:"94:5"},{t:"Allah ne charge aucune Ã¢me au-delÃ  de sa capacitÃ©.",r:"2:286"},{t:"Cherchez secours dans la patience et la priÃ¨re.",r:"2:45"}],
            doute:[{t:"N'est-ce pas par le rappel d'Allah que les cÅ“urs s'apaisent ?",r:"13:28"},{t:"Tu ne sais peut-Ãªtre pas â€” une chose te rÃ©pugne alors qu'elle est meilleure pour toi.",r:"2:216"},{t:"Et place ta confiance en le Vivant qui ne meurt jamais.",r:"25:58"}],
            gratitude:[{t:"Si vous Ãªtes reconnaissants, J'augmenterai Mes bienfaits.",r:"14:7"},{t:"Lequel des bienfaits de votre Seigneur nierez-vous ?",r:"55:13"},{t:"Tout bienfait qui vous atteint vient d'Allah.",r:"16:53"}],
            motivation:[{t:"Faites le bien â€” Allah aime les bienfaisants.",r:"2:195"},{t:"Les meilleures actions sont les plus rÃ©guliÃ¨res, mÃªme petites.",r:"Bukhari"},{t:"HÃ¢tez-vous vers le pardon de votre Seigneur.",r:"3:133"}],
            repentir:[{t:"Ne dÃ©sespÃ©rez pas de la misÃ©ricorde d'Allah.",r:"39:53"},{t:"Votre Seigneur s'est prescrit Ã  Lui-mÃªme la misÃ©ricorde.",r:"6:54"},{t:"Allah aime ceux qui se repentent.",r:"2:222"}],
            serenite:[{t:"Il est avec vous oÃ¹ que vous soyez.",r:"57:4"},{t:"Et Nous sommes plus prÃ¨s de lui que sa veine jugulaire.",r:"50:16"},{t:"Allah est le meilleur des protecteurs.",r:"12:64"}]
        };

        // ============ APP STATE ============
        let activeProphetIdx = 0;
        let activeAllahnameIdx = 0;
        let activeLetterIdx = 0;
        let personalDuas = [];
        let journalEntries = [];
        let tafsirNotes = [];

        // ============ INIT ============
        async function initApp() {
            try {
                await signInAnonymously(auth);
                await loadData();
                await loadPersonalDuas();
                await loadJournalEntries();
                await loadTafsirNotes();
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('app').classList.remove('hidden');
                renderHome();
                lucide.createIcons();
            } catch(e) {
                document.getElementById('loading-text').innerText = 'Erreur de connexion. RÃ©essaie.';
                console.error(e);
            }
        }

        async function loadPersonalDuas() {
            try {
                const snap = await getDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'personal_duas'));
                personalDuas = snap.exists() ? (snap.data().list || []) : [];
            } catch(e) { personalDuas = []; }
        }

        async function savePersonalDuas() {
            await setDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'personal_duas'), { list: personalDuas });
        }

        async function loadJournalEntries() {
            try {
                const snap = await getDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'journal'));
                journalEntries = snap.exists() ? (snap.data().entries || []) : [];
            } catch(e) { journalEntries = []; }
        }

        async function saveJournalEntries() {
            await setDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'journal'), { entries: journalEntries });
        }

        async function loadTafsirNotes() {
            try {
                const snap = await getDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'tafsir'));
                tafsirNotes = snap.exists() ? (snap.data().notes || []) : [];
            } catch(e) { tafsirNotes = []; }
        }

        async function saveTafsirNotes() {
            await setDoc(doc(db, 'artifacts', APP_ID, 'users', USER_ID, 'data', 'tafsir'), { notes: tafsirNotes });
        }

        // ============ RENDERING ============
        function showTab(tab) {
            activeTab = tab;
            const tabs = ['home','quran','prophets','arabic','duas','dhikr','spiritual','journal'];
            tabs.forEach(t => {
                document.getElementById('tab-'+t)?.classList.add('hidden');
                document.getElementById('nav-'+t)?.classList.remove('active-nav');
            });
            document.getElementById('tab-'+tab)?.classList.remove('hidden');
            document.getElementById('nav-'+tab)?.classList.add('active-nav');
            window.scrollTo(0,0);
            lucide.createIcons();
        }
        window.showTab = showTab;

        function renderHome() {
            const d = getDay();
            const prayers = ['Fajr','Dohr','Asr','Maghrib','Isha'];
            const prayerIcons = ['ğŸŒ…','â˜€ï¸','ğŸŒ¤ï¸','ğŸŒ†','ğŸŒ™'];
            
            document.getElementById('home-prayers').innerHTML = prayers.map((p,i) =>
                `<button onclick="window.togglePrayer(${i})" class="flex flex-col items-center gap-1">
                    <div class="w-12 h-12 rounded-2xl flex items-center justify-center text-xl transition-all ${d.prayers[i] ? 'bg-amber-400 shadow-lg shadow-amber-400/30' : 'bg-white/10 border border-white/20'}">${prayerIcons[i]}</div>
                    <span class="text-[9px] font-bold tracking-wider text-stone-300 uppercase">${p}</span>
                </button>`
            ).join('');

            const fajrSteps = [{e:'â°',l:'RÃ©veil'},{e:'ğŸŒ™',l:'Tahajjud'},{e:'ğŸ½ï¸',l:'Suhoor'},{e:'ğŸŒ…',l:'Fajr'}];
            document.getElementById('home-fajr').innerHTML = fajrSteps.map((s,i) =>
                `<button onclick="window.toggleFajr(${i})" class="flex flex-col items-center gap-2 p-3 rounded-2xl transition-all ${d.fajrRoutine[i] ? 'bg-indigo-500/30 border border-indigo-400/50' : 'bg-white/5 border border-white/10'}">
                    <span class="text-2xl">${s.e}</span>
                    <span class="text-[9px] font-black uppercase tracking-widest text-stone-300">${s.l}</span>
                </button>`
            ).join('');

            const prayedCount = d.prayers.filter(Boolean).length;
            document.getElementById('prayer-count').innerText = prayedCount + '/5';
            document.getElementById('mosque-btn').className = `px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all ${d.mosque ? 'bg-emerald-500 text-white shadow-lg' : 'bg-white/10 border border-white/20 text-stone-300'}`;
            document.getElementById('mosque-btn').innerText = d.mosque ? 'âœ… AllÃ© Ã  la mosquÃ©e' : 'â¬œ Pas encore';
            document.getElementById('tahajjud-btn').className = `px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all ${d.tahajjud ? 'bg-indigo-500 text-white shadow-lg' : 'bg-white/10 border border-white/20 text-stone-300'}`;
            document.getElementById('tahajjud-btn').innerText = d.tahajjud ? 'âœ… Tahajjud fait' : 'â¬œ Pas encore';

            // Weekly stats
            const days = [];
            for(let i=6; i>=0; i--) {
                const d2 = new Date(TODAY);
                d2.setDate(d2.getDate() - i);
                const k = d2.toISOString().split('T')[0];
                days.push({k, day: ['D','L','M','M','J','V','S'][d2.getDay()], data: userData[k]});
            }
            document.getElementById('week-grid').innerHTML = days.map(d => {
                const count = d.data ? d.data.prayers.filter(Boolean).length : 0;
                const isToday = d.k === todayKey;
                return `<div class="flex flex-col items-center gap-1">
                    <div class="w-8 h-8 rounded-xl flex items-center justify-center text-xs font-black ${count===5?'bg-amber-400 text-stone-900':count>0?'bg-amber-400/30 text-amber-300':'bg-white/10 text-stone-500'} ${isToday?'ring-2 ring-amber-400':''}">${count}</div>
                    <span class="text-[8px] text-stone-500 uppercase font-bold">${d.day}</span>
                </div>`;
            }).join('');

            lucide.createIcons();
        }
        window.renderHome = renderHome;

        window.togglePrayer = (i) => {
            const d = getDay();
            d.prayers[i] = !d.prayers[i];
            pushData(); renderHome();
        };
        window.toggleFajr = (i) => {
            const d = getDay();
            d.fajrRoutine[i] = !d.fajrRoutine[i];
            pushData(); renderHome();
        };
        window.toggleMosque = () => { const d=getDay(); d.mosque=!d.mosque; pushData(); renderHome(); };
        window.toggleTahajjud = () => { const d=getDay(); d.tahajjud=!d.tahajjud; pushData(); renderHome(); };

        // ============ QURAN ============
        window.renderQuran = () => {
            const d = getDay();
            const logs = d.quranReadings || [];
            document.getElementById('quran-readings-list').innerHTML = logs.length > 0
                ? logs.map((r,i) => `<div class="bg-white/5 border border-white/10 rounded-2xl p-4 flex justify-between items-center">
                    <div>
                        <span class="text-sm font-bold text-amber-300">${r.surah}</span>
                        <span class="text-xs text-stone-400 ml-2">V.${r.start}${r.end?'â†’'+r.end:''}</span>
                        ${r.note ? `<p class="text-xs text-stone-300 mt-1 italic">"${r.note}"</p>` : ''}
                    </div>
                    <button onclick="window.removeReading(${i})" class="text-red-400 ml-2"><i data-lucide="x" class="w-4 h-4"></i></button>
                </div>`)
                .join('')
                : '<p class="text-stone-500 italic text-xs text-center py-4">Aucune lecture enregistrÃ©e aujourd\'hui</p>';

            // Tafsir notes
            document.getElementById('tafsir-list').innerHTML = tafsirNotes.length > 0
                ? tafsirNotes.slice().reverse().map((t,ri) => {
                    const i = tafsirNotes.length - 1 - ri;
                    return `<div class="bg-white/5 border border-amber-400/20 rounded-2xl p-5">
                        <div class="flex justify-between mb-2">
                            <span class="text-xs font-black text-amber-400 uppercase tracking-widest">${t.surah}</span>
                            <button onclick="window.deleteTafsir(${i})" class="text-red-400"><i data-lucide="trash-2" class="w-3 h-3"></i></button>
                        </div>
                        <p class="text-sm text-stone-200 leading-relaxed whitespace-pre-wrap">${t.note}</p>
                        <p class="text-[9px] text-stone-500 mt-2">${new Date(t.ts).toLocaleDateString('fr-FR')}</p>
                    </div>`;
                }).join('')
                : '<p class="text-stone-500 italic text-xs text-center py-4">Aucune note de tafsir</p>';
            lucide.createIcons();
        };

        window.addReading = () => {
            const surah = document.getElementById('inp-surah').value.trim();
            const start = document.getElementById('inp-start').value.trim();
            const end = document.getElementById('inp-end').value.trim();
            const note = document.getElementById('inp-note').value.trim();
            if (!surah || !start) { showToast('Remplis la sourate et le dÃ©but !'); return; }
            const d = getDay();
            if (!d.quranReadings) d.quranReadings = [];
            d.quranReadings.push({surah, start, end, note, ts: Date.now()});
            document.getElementById('inp-surah').value = '';
            document.getElementById('inp-start').value = '';
            document.getElementById('inp-end').value = '';
            document.getElementById('inp-note').value = '';
            pushData();
            renderQuran();
            showToast('Lecture ajoutÃ©e ğŸ“–');
        };
        window.removeReading = (i) => {
            getDay().quranReadings.splice(i,1);
            pushData(); renderQuran();
        };

        window.addTafsir = async () => {
            const surah = document.getElementById('tafsir-surah').value.trim();
            const note = document.getElementById('tafsir-note').value.trim();
            if (!surah || !note) { showToast('Remplis la sourate et ta note !'); return; }
            tafsirNotes.push({surah, note, ts: Date.now()});
            document.getElementById('tafsir-surah').value = '';
            document.getElementById('tafsir-note').value = '';
            await saveTafsirNotes();
            renderQuran();
            showToast('Note de tafsir ajoutÃ©e âœ¨');
        };
        window.deleteTafsir = async (i) => {
            tafsirNotes.splice(i,1);
            await saveTafsirNotes();
            renderQuran();
        };

        // ============ PROPHETS ============
        window.showProphet = (i) => {
            activeProphetIdx = i;
            const p = PROPHETS[i];
            document.getElementById('prophet-name').innerText = p.name;
            document.getElementById('prophet-subtitle').innerText = p.subtitle;
            document.getElementById('prophet-emoji').innerText = p.emoji;
            document.getElementById('prophet-story').innerText = p.story;
            document.getElementById('prophet-list').classList.add('hidden');
            document.getElementById('prophet-detail').classList.remove('hidden');
        };
        window.backToProphets = () => {
            document.getElementById('prophet-detail').classList.add('hidden');
            document.getElementById('prophet-list').classList.remove('hidden');
        };

        // ============ ARABIC ============
        window.showLetter = (i) => {
            activeLetterIdx = i;
            const l = ARABIC_LETTERS[i];
            document.getElementById('letter-big').innerText = l.l;
            document.getElementById('letter-name').innerText = l.n;
            document.getElementById('letter-sound').innerText = 'Son : ' + l.s;
            document.getElementById('letter-example').innerText = 'Ex : ' + l.ex;
            document.querySelectorAll('.letter-btn').forEach((btn,j) => {
                btn.classList.toggle('bg-amber-400', j===i);
                btn.classList.toggle('text-stone-900', j===i);
                btn.classList.toggle('bg-white/10', j!==i);
                btn.classList.toggle('text-stone-300', j!==i);
            });
        };
        // ============ DUAS ============
        window.renderDuas = () => {
            document.getElementById('personal-duas-list').innerHTML = personalDuas.length > 0
                ? personalDuas.slice().reverse().map((d, ri) => {
                    const i = personalDuas.length - 1 - ri;
                    return `<div class="bg-white/5 border border-indigo-400/20 rounded-2xl p-5">
                        <div class="flex justify-between mb-2">
                            <span class="text-xs font-black text-indigo-300 uppercase tracking-widest">${d.title || 'Ma dua'}</span>
                            <button onclick="window.deleteDua(${i})" class="text-red-400"><i data-lucide="trash-2" class="w-3 h-3"></i></button>
                        </div>
                        <p class="text-sm text-stone-200 leading-relaxed">${d.text}</p>
                    </div>`;
                }).join('')
                : '<p class="text-stone-500 italic text-xs text-center py-4">Ajoute tes duas les plus chÃ¨res ici</p>';
            lucide.createIcons();
        };
        window.addPersonalDua = async () => {
            const title = document.getElementById('dua-title').value.trim();
            const text = document.getElementById('dua-text').value.trim();
            if (!text) return;
            personalDuas.push({title, text, ts: Date.now()});
            document.getElementById('dua-title').value = '';
            document.getElementById('dua-text').value = '';
            await savePersonalDuas();
            renderDuas();
            showToast('Dua sauvegardÃ©e ğŸ¤²');
        };
        window.deleteDua = async (i) => {
            personalDuas.splice(i,1);
            await savePersonalDuas();
            renderDuas();
        };

        // ============ DHIKR ============
        window.addDhikr = (key) => {
            const d = getDay();
            if (!d.dhikr) d.dhikr = {sub:0,alh:0,akb:0,ast:0,tah:0};
            d.dhikr[key] = (d.dhikr[key]||0)+1;
            document.getElementById('count-'+key).innerText = d.dhikr[key];
            document.getElementById('total-dhikr').innerText = Object.values(d.dhikr).reduce((a,b)=>a+b,0);
            pushData();
        };
        window.resetDhikr = () => {
            if (!confirm('Remettre les compteurs Ã  zÃ©ro ?')) return;
            const d = getDay();
            d.dhikr = {sub:0,alh:0,akb:0,ast:0,tah:0};
            pushData();
            refreshDhikrUI();
        };
        function refreshDhikrUI() {
            const d = getDay();
            const dh = d.dhikr || {sub:0,alh:0,akb:0,ast:0,tah:0};
            ['sub','alh','akb','ast','tah'].forEach(k => {
                const el = document.getElementById('count-'+k);
                if(el) el.innerText = dh[k]||0;
            });
            const total = document.getElementById('total-dhikr');
            if(total) total.innerText = Object.values(dh).reduce((a,b)=>a+b,0);
        }
        window.refreshDhikrUI = refreshDhikrUI;

        // ============ SPIRITUAL ============
        window.showVerse = (mood) => {
            const list = VERSES_BY_MOOD[mood];
            const v = list[Math.floor(Math.random()*list.length)];
            document.getElementById('verse-box').classList.remove('hidden');
            document.getElementById('verse-text').innerText = v.t;
            document.getElementById('verse-ref').innerText = 'â€” ' + v.r;
        };

        // ============ JOURNAL ============
        window.renderJournal = () => {
            document.getElementById('journal-list').innerHTML = journalEntries.length > 0
                ? journalEntries.slice().reverse().map((e,ri) => {
                    const i = journalEntries.length - 1 - ri;
                    const date = new Date(e.ts).toLocaleDateString('fr-FR', {weekday:'long', day:'numeric', month:'long'});
                    const preview = e.text.length > 60 ? e.text.substring(0,60)+'...' : e.text;
                    return `<details class="bg-white/5 border border-white/10 rounded-2xl overflow-hidden group">
                        <summary class="p-5 cursor-pointer list-none flex justify-between items-start outline-none">
                            <div>
                                <p class="text-[9px] text-stone-400 uppercase font-black tracking-widest mb-1">${date}</p>
                                <p class="text-sm text-stone-300 italic">"${preview}"</p>
                            </div>
                            <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                                <button onclick="event.preventDefault(); window.deleteJournal(${i})" class="text-red-400"><i data-lucide="trash-2" class="w-3 h-3"></i></button>
                                <i data-lucide="chevron-down" class="w-4 h-4 text-stone-400 group-open:rotate-180 transition-transform"></i>
                            </div>
                        </summary>
                        <div class="px-5 pb-5 text-sm text-stone-200 leading-relaxed whitespace-pre-wrap border-t border-white/5 pt-4">${e.text}</div>
                    </details>`;
                }).join('')
                : '<p class="text-stone-500 italic text-xs text-center py-8">Ton espace intime t\'attend...</p>';
            lucide.createIcons();
        };

        window.addJournalEntry = async () => {
            const text = document.getElementById('journal-textarea').value.trim();
            if (!text) return;
            journalEntries.push({text, ts: Date.now()});
            document.getElementById('journal-textarea').value = '';
            await saveJournalEntries();
            renderJournal();
            showToast('PensÃ©e enregistrÃ©e ğŸ”’');
        };
        window.deleteJournal = async (i) => {
            if (!confirm('Supprimer cette entrÃ©e ?')) return;
            journalEntries.splice(i,1);
            await saveJournalEntries();
            renderJournal();
        };

        // ============ GRATITUDE ============
        window.saveGratitude = () => {
            const d = getDay();
            d.gratitude = document.getElementById('gratitude-input').value;
            pushData();
            showToast('Alhamdulillah âœ¨');
        };

        // ============ UTILS ============
        function showToast(msg) {
            const t = document.createElement('div');
            t.className = 'fixed top-8 left-1/2 -translate-x-1/2 bg-stone-900 text-amber-300 px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest z-[999] shadow-2xl border border-amber-400/30 animate-bounce';
            t.innerText = msg;
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 2500);
        }
        window.showToast = showToast;

        window.onload = () => { lucide.createIcons(); initApp(); };
    </script>

    <style>
        :root {
            --gold: #F59E0B;
            --deep: #1A1714;
            --card: rgba(255,255,255,0.06);
        }
        * { -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--deep);
            color: #E7E5E4;
            min-height: 100vh;
            overscroll-behavior-y: contain;
        }
        .amiri { font-family: 'Amiri', serif; }
        input, textarea {
            font-size: 16px !important;
            -webkit-user-select: text !important;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .active-nav .nav-icon { color: #F59E0B; }
        .active-nav .nav-label { color: #F59E0B; }
        .card { background: var(--card); border: 1px solid rgba(255,255,255,0.07); border-radius: 1.5rem; }
        .gold-gradient { background: linear-gradient(135deg, #B45309, #F59E0B, #92400E); }
        .dark-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); }
        details summary::-webkit-details-marker { display: none; }
        .pb-nav { padding-bottom: 7rem; }
    </style>
</head>
<body class="pb-nav">

<!-- LOADING -->
<div id="loading" class="fixed inset-0 z-[500] flex flex-col items-center justify-center gap-4" style="background:#1A1714">
    <div class="text-5xl animate-pulse">ğŸŒ™</div>
    <p class="amiri text-2xl text-amber-400">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…</p>
    <p id="loading-text" class="text-stone-400 text-sm font-medium">Chargement...</p>
</div>

<!-- APP -->
<div id="app" class="hidden">

    <!-- HOME TAB -->
    <div id="tab-home">
        <header class="px-5 pt-12 pb-6 flex justify-between items-start">
            <div>
                <p class="text-stone-500 text-xs uppercase font-bold tracking-widest">Salam 'Alaykum</p>
                <h1 class="text-3xl font-black text-white mt-1">Quincy ğŸŒ™</h1>
                <p class="text-amber-400 text-xs font-medium mt-0.5" id="today-date">Aujourd'hui</p>
            </div>
            <div class="w-14 h-14 rounded-2xl gold-gradient flex items-center justify-center text-2xl shadow-lg shadow-amber-900/40">ğŸ•Œ</div>
        </header>

        <div class="px-4 space-y-4">
            <!-- Prayers -->
            <div class="card p-5">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xs font-black uppercase tracking-widest text-stone-400">Mes PriÃ¨res</h2>
                    <span id="prayer-count" class="text-amber-400 font-black text-sm">0/5</span>
                </div>
                <div class="grid grid-cols-5 gap-2" id="home-prayers"></div>
            </div>

            <!-- Fajr Routine -->
            <div class="rounded-3xl p-5" style="background:linear-gradient(135deg,#1e1b4b,#312e81)">
                <h2 class="text-xs font-black uppercase tracking-widest text-indigo-300 mb-3">Routine Fajr ğŸŒŒ</h2>
                <div class="grid grid-cols-4 gap-2" id="home-fajr"></div>
            </div>

            <!-- Mosque & Tahajjud -->
            <div class="grid grid-cols-2 gap-3">
                <div class="card p-4">
                    <p class="text-[9px] uppercase text-stone-500 font-black tracking-widest mb-2">MosquÃ©e</p>
                    <button onclick="window.toggleMosque()" id="mosque-btn" class="w-full px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all bg-white/10 border border-white/20 text-stone-300">â¬œ Pas encore</button>
                </div>
                <div class="card p-4">
                    <p class="text-[9px] uppercase text-stone-500 font-black tracking-widest mb-2">Tahajjud</p>
                    <button onclick="window.toggleTahajjud()" id="tahajjud-btn" class="w-full px-4 py-2 rounded-xl text-xs font-black uppercase tracking-wider transition-all bg-white/10 border border-white/20 text-stone-300">â¬œ Pas encore</button>
                </div>
            </div>

            <!-- Week Grid -->
            <div class="card p-5">
                <h2 class="text-xs font-black uppercase tracking-widest text-stone-400 mb-4">Ma semaine</h2>
                <div class="grid grid-cols-7 gap-1" id="week-grid"></div>
                <p class="text-[9px] text-stone-600 mt-2 italic">Chiffre = priÃ¨res effectuÃ©es</p>
            </div>

            <!-- Gratitude -->
            <div class="card p-5">
                <h2 class="text-xs font-black uppercase tracking-widest text-stone-400 mb-3">Alhamdulillah pour... ğŸŒ¿</h2>
                <textarea id="gratitude-input" rows="3" placeholder="Ce soir, je suis reconnaissant pour..." class="w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-sm outline-none text-stone-200 placeholder-stone-600 resize-none leading-relaxed"></textarea>
                <button onclick="window.saveGratitude()" class="mt-3 w-full py-3 rounded-xl text-xs font-black uppercase tracking-widest gold-gradient text-stone-900 shadow-lg shadow-amber-900/40 active:scale-95 transition-all">Enregistrer ma gratitude</button>
            </div>
        </div>
    </div>

    <!-- QURAN TAB -->
    <div id="tab-quran" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">Coran ğŸ“–</h1>
            <p class="text-stone-500 text-sm mt-1">Lectures, tafsir, versets marquants</p>
        </header>

        <!-- Add Reading -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-amber-400 mb-4">Enregistrer une lecture</h2>
            <input list="surah-list" id="inp-surah" placeholder="Sourate..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-2 text-stone-200">
            <div class="grid grid-cols-2 gap-2 mb-2">
                <input type="number" id="inp-start" placeholder="Verset dÃ©but" class="bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none text-stone-200">
                <input type="number" id="inp-end" placeholder="Verset fin" class="bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none text-stone-200">
            </div>
            <input id="inp-note" placeholder="Verset marquant (optionnel)..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-3 text-stone-200">
            <button onclick="window.addReading(); window.renderQuran();" class="w-full py-3 rounded-xl text-xs font-black uppercase tracking-widest gold-gradient text-stone-900 shadow-lg active:scale-95 transition-all">Ajouter la lecture</button>
        </div>

        <div id="quran-readings-list" class="space-y-2 mb-6">
            <p class="text-stone-500 italic text-xs text-center py-4">Aucune lecture aujourd'hui</p>
        </div>

        <!-- Tafsir -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-emerald-400 mb-1">Notes de Tafsir</h2>
            <p class="text-stone-500 text-xs mb-4">Comprendre ce que tu lis â€” explications, rÃ©flexions</p>
            <input list="surah-list" id="tafsir-surah" placeholder="Sourate..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-2 text-stone-200">
            <textarea id="tafsir-note" rows="4" placeholder="Ce que j'ai compris, ce qui m'a touchÃ©..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-3 text-stone-200 resize-none"></textarea>
            <button onclick="window.addTafsir(); window.renderQuran();" class="w-full py-3 rounded-xl text-xs font-black uppercase tracking-widest bg-emerald-600 text-white shadow-lg active:scale-95 transition-all">Sauvegarder la note</button>
        </div>

        <div id="tafsir-list" class="space-y-3 pb-4"></div>
    </div>

    <!-- PROPHETS TAB -->
    <div id="tab-prophets" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">ProphÃ¨tes ï·º</h1>
            <p class="text-stone-500 text-sm mt-1">Leurs histoires, leurs leÃ§ons</p>
        </header>

        <div id="prophet-list">
            <div class="grid grid-cols-2 gap-3">
                <button onclick="window.showProphet(0)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ¿</span><p class="font-black text-sm text-white">Adam ï·º</p><p class="text-[10px] text-stone-500">Le premier homme</p></button>
                <button onclick="window.showProphet(1)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">âœï¸</span><p class="font-black text-sm text-white">IdrÃ®s ï·º</p><p class="text-[10px] text-stone-500">Le sage Ã©crivain</p></button>
                <button onclick="window.showProphet(2)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸš¢</span><p class="font-black text-sm text-white">NÃ»h ï·º</p><p class="text-[10px] text-stone-500">950 ans de patience</p></button>
                <button onclick="window.showProphet(3)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ¬ï¸</span><p class="font-black text-sm text-white">HÃ»d ï·º</p><p class="text-[10px] text-stone-500">EnvoyÃ© Ã  'Ã‚d</p></button>
                <button onclick="window.showProphet(4)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸª</span><p class="font-black text-sm text-white">SÃ¢lih ï·º</p><p class="text-[10px] text-stone-500">La chamelle miraculeuse</p></button>
                <button onclick="window.showProphet(5)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ”¥</span><p class="font-black text-sm text-white">IbrÃ¢hÃ®m ï·º</p><p class="text-[10px] text-stone-500">L'ami d'Allah</p></button>
                <button onclick="window.showProphet(6)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ™ï¸</span><p class="font-black text-sm text-white">LÃ»t ï·º</p><p class="text-[10px] text-stone-500">Neveu d'Ibrahim</p></button>
                <button onclick="window.showProphet(7)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ”ï¸</span><p class="font-black text-sm text-white">IsmaÃ¯l ï·º</p><p class="text-[10px] text-stone-500">La Ka'ba & Zamzam</p></button>
                <button onclick="window.showProphet(8)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">â­</span><p class="font-black text-sm text-white">IshÃ¢q ï·º</p><p class="text-[10px] text-stone-500">Fils d'Ibrahim</p></button>
                <button onclick="window.showProphet(9)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ¾</span><p class="font-black text-sm text-white">Ya'qÃ»b ï·º</p><p class="text-[10px] text-stone-500">PÃ¨re des 12 tribus</p></button>
                <button onclick="window.showProphet(10)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ’«</span><p class="font-black text-sm text-white">YÃ»suf ï·º</p><p class="text-[10px] text-stone-500">La plus belle histoire</p></button>
                <button onclick="window.showProphet(11)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">âš–ï¸</span><p class="font-black text-sm text-white">Shu'ayb ï·º</p><p class="text-[10px] text-stone-500">EnvoyÃ© Ã  Madyan</p></button>
                <button onclick="window.showProphet(12)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">âš¡</span><p class="font-black text-sm text-white">MÃ»sÃ¢ ï·º</p><p class="text-[10px] text-stone-500">KalÃ®m Allah</p></button>
                <button onclick="window.showProphet(13)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ—£ï¸</span><p class="font-black text-sm text-white">HÃ¢rÃ»n ï·º</p><p class="text-[10px] text-stone-500">FrÃ¨re de MÃ»sÃ¢</p></button>
                <button onclick="window.showProphet(14)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ›¡ï¸</span><p class="font-black text-sm text-white">Dhul-Kifl ï·º</p><p class="text-[10px] text-stone-500">Le garant patient</p></button>
                <button onclick="window.showProphet(15)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ±</span><p class="font-black text-sm text-white">AyyÃ»b ï·º</p><p class="text-[10px] text-stone-500">La patience absolue</p></button>
                <button onclick="window.showProphet(16)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ‹</span><p class="font-black text-sm text-white">YÃ»nus ï·º</p><p class="text-[10px] text-stone-500">La dua de la baleine</p></button>
                <button onclick="window.showProphet(17)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒŠ</span><p class="font-black text-sm text-white">IlyÃ¢s ï·º</p><p class="text-[10px] text-stone-500">DÃ©fenseur du tawhid</p></button>
                <button onclick="window.showProphet(18)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ¿</span><p class="font-black text-sm text-white">Al-Yasa' ï·º</p><p class="text-[10px] text-stone-500">Successeur d'IlyÃ¢s</p></button>
                <button onclick="window.showProphet(19)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸµ</span><p class="font-black text-sm text-white">DÃ¢wÃ»d ï·º</p><p class="text-[10px] text-stone-500">Roi et prophÃ¨te</p></button>
                <button onclick="window.showProphet(20)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ‘‘</span><p class="font-black text-sm text-white">SulaymÃ¢n ï·º</p><p class="text-[10px] text-stone-500">MaÃ®tre des djinns</p></button>
                <button onclick="window.showProphet(21)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ¸</span><p class="font-black text-sm text-white">ZakariyyÃ¢ ï·º</p><p class="text-[10px] text-stone-500">PÃ¨re de YahyÃ¢</p></button>
                <button onclick="window.showProphet(22)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸ•Šï¸</span><p class="font-black text-sm text-white">YahyÃ¢ ï·º</p><p class="text-[10px] text-stone-500">Sagesse dÃ¨s l'enfance</p></button>
                <button onclick="window.showProphet(23)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">âœ¨</span><p class="font-black text-sm text-white">ÃsÃ¢ ï·º</p><p class="text-[10px] text-stone-500">RÃ»h Allah</p></button>
                <button onclick="window.showProphet(24)" class="card p-4 text-left active:scale-95 transition-all"><span class="text-2xl mb-1 block">ğŸŒ™</span><p class="font-black text-sm text-white">Muhammad ï·º</p><p class="text-[10px] text-stone-500">Le sceau des prophÃ¨tes</p></button>
            </div>
        </div>

        <div id="prophet-detail" class="hidden pb-4">
            <button onclick="window.backToProphets()" class="flex items-center gap-2 text-amber-400 font-bold text-sm mb-6">
                <i data-lucide="arrow-left" class="w-4 h-4"></i> Retour
            </button>
            <div class="card p-6 mb-4">
                <div class="text-5xl mb-3" id="prophet-emoji">ğŸŒ¿</div>
                <h2 class="text-2xl font-black text-white amiri" id="prophet-name">Adam</h2>
                <p class="text-amber-400 text-sm font-medium mt-1" id="prophet-subtitle"></p>
            </div>
            <div class="card p-6">
                <p class="text-stone-200 text-sm leading-relaxed whitespace-pre-wrap" id="prophet-story"></p>
            </div>
        </div>
    </div>

    <!-- ARABIC TAB -->
    <div id="tab-arabic" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">Arabe ğŸ”¤</h1>
            <p class="text-stone-500 text-sm mt-1">Lettres, voyelles, noms d'Allah</p>
        </header>

        <!-- Letters Grid -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-amber-400 mb-4">Alphabet arabe</h2>
            <div class="grid grid-cols-7 gap-2 mb-5">
                <!-- Rendered by JS -->
            </div>
            <!-- Selected letter display -->
            <div class="rounded-2xl p-5 text-center mb-0" style="background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.2)">
                <button onclick="window.speakLetter()" class="text-6xl amiri mb-2 block mx-auto cursor-pointer hover:opacity-80 transition-opacity" id="letter-big" title="Appuie pour Ã©couter">Ø§</button>
                <p class="font-black text-lg text-amber-400" id="letter-name">Alif</p>
                <p class="text-stone-300 text-sm" id="letter-sound">Son : Ã¢ / a</p>
                <p class="text-stone-500 text-xs mt-1" id="letter-example">Ex : Ø£ÙÙ„ÙÙ… (Alam - douleur)</p>
                <button onclick="window.speakLetter()" class="mt-3 bg-amber-400/10 border border-amber-400/30 text-amber-400 text-[9px] font-black uppercase tracking-widest px-4 py-2 rounded-xl flex items-center gap-2 mx-auto">ğŸ”Š Ã‰couter en arabe</button>
            </div>
        </div>

        <!-- Vowels -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-indigo-400 mb-4">Les voyelles (Harakat)</h2>
            <div class="grid grid-cols-2 gap-3" id="vowels-grid"></div>
        </div>

        <!-- Allah Names - scrollable list -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-emerald-400 mb-1">Les 99 Noms d'Allah</h2>
            <p class="text-stone-500 text-xs mb-4">Appuie sur un nom pour voir la signification</p>
            <div id="allah-names-list" class="space-y-2 max-h-96 overflow-y-auto no-scrollbar pr-1"></div>
            <div id="aname-detail" class="hidden mt-4 rounded-2xl p-5" style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2)">
                <div class="text-4xl amiri text-emerald-300 text-center mb-2" id="aname-arabic">Ø§Ù„Ø±Ø­Ù…Ù†</div>
                <p class="font-black text-lg text-emerald-400 text-center" id="aname-name">Ar-RahmÃ¢n</p>
                <p class="text-stone-300 text-sm text-center italic mb-3" id="aname-trans">Le Tout-MisÃ©ricordieux</p>
                <p class="text-stone-400 text-xs leading-relaxed" id="aname-desc"></p>
                <button onclick="document.getElementById('aname-detail').classList.add('hidden')" class="mt-3 w-full text-center text-stone-500 text-xs font-bold uppercase tracking-widest py-2">Fermer âœ•</button>
            </div>
        </div>
    </div>

    <!-- DUAS TAB -->
    <div id="tab-duas" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">Duas ğŸ¤²</h1>
            <p class="text-stone-500 text-sm mt-1">Invocations essentielles + tes duas perso</p>
        </header>

        <!-- Built-in Duas -->
        <h2 class="text-xs font-black uppercase tracking-widest text-amber-400 mb-3">Duas fondamentales</h2>
        <div class="space-y-3 mb-6" id="builtin-duas"></div>

        <!-- Personal Duas -->
        <div class="card p-5 mb-4">
            <h2 class="text-xs font-black uppercase tracking-widest text-indigo-400 mb-1">Mes duas personnelles</h2>
            <p class="text-stone-500 text-xs mb-4">Ce que tu demandes Ã  Allah de tout ton cÅ“ur</p>
            <input id="dua-title" placeholder="Titre (ex: Pour ma famille...)" class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-2 text-stone-200">
            <textarea id="dua-text" rows="3" placeholder="Ta dua..." class="w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm outline-none mb-3 text-stone-200 resize-none"></textarea>
            <button onclick="window.addPersonalDua(); window.renderDuas();" class="w-full py-3 rounded-xl text-xs font-black uppercase tracking-widest bg-indigo-600 text-white shadow-lg active:scale-95 transition-all">Sauvegarder ma dua</button>
        </div>

        <div id="personal-duas-list" class="space-y-3 pb-4">
            <p class="text-stone-500 italic text-xs text-center py-4">Ajoute tes duas les plus chÃ¨res ici</p>
        </div>
    </div>

    <!-- DHIKR TAB -->
    <div id="tab-dhikr" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">Dhikr âœ¨</h1>
            <p class="text-stone-500 text-sm mt-1">Mon tasbih quotidien</p>
        </header>

        <div class="rounded-3xl p-6 mb-5 text-center gold-gradient shadow-lg shadow-amber-900/40">
            <p class="text-stone-800 text-xs font-black uppercase tracking-widest">Total aujourd'hui</p>
            <div class="text-5xl font-black text-stone-900 my-2" id="total-dhikr">0</div>
            <p class="text-stone-800 text-xs italic">Chaque dhikr est une lumiÃ¨re</p>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <button onclick="window.addDhikr('sub')" class="card p-5 active:scale-95 transition-all text-center">
                <p class="text-amber-400 font-black text-sm mb-1">SubhÃ¢nallah</p>
                <p class="text-stone-500 text-[9px] uppercase tracking-widest mb-3">Gloire Ã  Allah</p>
                <div class="text-3xl font-black text-white" id="count-sub">0</div>
            </button>
            <button onclick="window.addDhikr('alh')" class="card p-5 active:scale-95 transition-all text-center">
                <p class="text-amber-400 font-black text-sm mb-1">Alhamdulillah</p>
                <p class="text-stone-500 text-[9px] uppercase tracking-widest mb-3">Louange Ã  Allah</p>
                <div class="text-3xl font-black text-white" id="count-alh">0</div>
            </button>
            <button onclick="window.addDhikr('akb')" class="card p-5 active:scale-95 transition-all text-center">
                <p class="text-amber-400 font-black text-sm mb-1">Allahu Akbar</p>
                <p class="text-stone-500 text-[9px] uppercase tracking-widest mb-3">Allah est le Plus Grand</p>
                <div class="text-3xl font-black text-white" id="count-akb">0</div>
            </button>
            <button onclick="window.addDhikr('ast')" class="card p-5 active:scale-95 transition-all text-center">
                <p class="text-amber-400 font-black text-sm mb-1">Astaghfirullah</p>
                <p class="text-stone-500 text-[9px] uppercase tracking-widest mb-3">Je demande pardon</p>
                <div class="text-3xl font-black text-white" id="count-ast">0</div>
            </button>
        </div>
        <button onclick="window.addDhikr('tah')" class="w-full card p-5 active:scale-95 transition-all text-center mb-4">
            <p class="text-amber-400 font-black text-base mb-1">LÃ¢ ilÃ¢ha illAllÃ¢h</p>
            <p class="text-stone-500 text-[9px] uppercase tracking-widest mb-3">Il n'y a de dieu qu'Allah</p>
            <div class="text-3xl font-black text-white" id="count-tah">0</div>
        </button>
        <button onclick="window.resetDhikr()" class="w-full text-stone-600 text-xs font-black uppercase tracking-widest py-3 flex items-center justify-center gap-2">
            <i data-lucide="rotate-ccw" class="w-3 h-3"></i> RÃ©initialiser
        </button>
    </div>

    <!-- SPIRITUAL TAB -->
    <div id="tab-spiritual" class="hidden px-4 pb-nav">
        <header class="pt-12 pb-4">
            <h1 class="text-3xl font-black text-white">Fondements ğŸ•‹</h1>
            <p class="text-stone-500 text-sm mt-1">La base de ta foi â€” apprends, retiens, vis</p>
        </header>

        <!-- Section navigation pills -->
        <div class="flex gap-2 overflow-x-auto no-scrollbar pb-3 mb-4">
            <button onclick="window.showFoundSection('pillars')" id="fsec-pillars" class="foundation-pill flex-shrink-0 px-4 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all bg-amber-400 text-stone-900">Piliers Islam</button>
            <button onclick="window.showFoundSection('iman')" id="fsec-iman" class="foundation-pill flex-shrink-0 px-4 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all bg-white/10 text-stone-400">Pilliers Foi</button>
            <button onclick="window.showFoundSection('milestones')" id="fsec-milestones" class="foundation-pill flex-shrink-0 px-4 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all bg-white/10 text-stone-400">RepÃ¨res</button>
            <button onclick="window.showFoundSection('affirmations')" id="fsec-affirmations" class="foundation-pill flex-shrink-0 px-4 py-2 rounded-full text-xs font-black uppercase tracking-widest transition-all bg-white/10 text-stone-400">Paroles de force</button>
        </div>

        <!-- PILIERS DE L'ISLAM -->
        <div id="fsection-pillars" class="space-y-3">
            <div class="rounded-3xl p-1 mb-2" style="background:linear-gradient(135deg,#78350f,#d97706,#92400e)">
                <div class="rounded-[1.25rem] p-5" style="background:#1A1714">
                    <p class="text-amber-400 text-[9px] font-black uppercase tracking-widest mb-1">Les 5 Piliers de l'Islam</p>
                    <p class="text-stone-300 text-xs">L'Islam repose sur 5 piliers fondamentaux. Ce sont les actes de culte obligatoires pour tout musulman.</p>
                </div>
            </div>

            <details class="card overflow-hidden group" open>
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl gold-gradient flex items-center justify-center text-stone-900 font-black text-lg flex-shrink-0">1</div>
                    <div class="flex-1"><p class="font-black text-white">La Shahada</p><p class="text-stone-500 text-xs">La dÃ©claration de foi</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <div class="rounded-2xl p-4 text-center" style="background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.15)">
                        <p class="text-2xl amiri text-amber-300 leading-loose mb-2">Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„Ù‡Ù ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„Ù‡Ù</p>
                        <p class="text-xs text-stone-400 italic">Ashhadu an lÃ¢ ilÃ¢ha illallÃ¢h wa ashhadu anna Muhammadan RasÃ»lullÃ¢h</p>
                        <p class="text-sm text-stone-200 font-medium mt-2">"J'atteste qu'il n'y a de dieu qu'Allah, et j'atteste que Muhammad est Son Messager."</p>
                    </div>
                    <p class="text-stone-300 text-sm leading-relaxed">La Shahada est la porte d'entrÃ©e dans l'Islam. Ce n'est pas une simple phrase â€” c'est un contrat de vie entre toi et Allah. Elle signifie que tu ne te prosternes que devant Lui, que tu ne mendie qu'auprÃ¨s de Lui, que tu ne crains que Lui.</p>
                    <p class="text-stone-400 text-xs leading-relaxed"><span class="text-amber-400 font-bold">LÃ¢ ilÃ¢ha illallÃ¢h</span> â€” Ã§a veut dire : tout ce que tu pourrais adorer d'autre (l'argent, le regard des gens, ton ego, tes peurs) â€” rien de tout Ã§a n'est ton vrai maÃ®tre. Allah seul.</p>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-indigo-500/20 border border-indigo-500/30 flex items-center justify-center text-indigo-400 font-black text-lg flex-shrink-0">2</div>
                    <div class="flex-1"><p class="font-black text-white">La SalÃ¢t</p><p class="text-stone-500 text-xs">Les 5 priÃ¨res quotidiennes</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <div class="grid grid-cols-5 gap-2 text-center">
                        <div class="bg-white/5 p-3 rounded-xl"><p class="text-lg">ğŸŒ…</p><p class="text-[9px] font-black text-amber-400">Fajr</p><p class="text-[8px] text-stone-500">Avant l'aube</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="text-lg">â˜€ï¸</p><p class="text-[9px] font-black text-amber-400">Dohr</p><p class="text-[8px] text-stone-500">Midi</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="text-lg">ğŸŒ¤ï¸</p><p class="text-[9px] font-black text-amber-400">Asr</p><p class="text-[8px] text-stone-500">AprÃ¨s-midi</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="text-lg">ğŸŒ†</p><p class="text-[9px] font-black text-amber-400">Maghrib</p><p class="text-[8px] text-stone-500">Coucher</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="text-lg">ğŸŒ™</p><p class="text-[9px] font-black text-amber-400">Isha</p><p class="text-[8px] text-stone-500">Nuit</p></div>
                    </div>
                    <p class="text-stone-300 text-sm leading-relaxed">La priÃ¨re est le premier acte pour lequel tu seras interrogÃ© au Jour Dernier. Elle est une conversation directe avec Allah â€” 5 rendez-vous par jour qu'Il te fixe, parce qu'Il veut t'entendre.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Les ablutions (wudÃ») purifient avant chaque priÃ¨re. La salÃ¢t a Ã©tÃ© prescrite directement Ã  Muhammad ï·º lors du Mi'raj, au-dessus du septiÃ¨me ciel â€” elle est le lien direct entre toi et Allah.</p>
                    <div class="bg-indigo-500/10 border border-indigo-500/20 rounded-2xl p-4">
                        <p class="text-indigo-300 text-xs italic">"Et Ã©tablis la priÃ¨re. La priÃ¨re prÃ©serve des turpitudes et des actions blÃ¢mables." â€” Coran 29:45</p>
                    </div>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center text-emerald-400 font-black text-lg flex-shrink-0">3</div>
                    <div class="flex-1"><p class="font-black text-white">La ZakÃ¢t</p><p class="text-stone-500 text-xs">L'aumÃ´ne obligatoire</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">La ZakÃ¢t est obligatoire pour tout musulman qui possÃ¨de suffisamment (nisÃ¢b) : 2,5% de ses Ã©conomies donnÃ©es aux pauvres et nÃ©cessiteux chaque annÃ©e.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Elle purifie ta richesse et ton Ã¢me. L'argent n'est pas Ã  toi â€” tu en es le gardien temporaire. La ZakÃ¢t rappelle que tout appartient Ã  Allah.</p>
                    <div class="bg-emerald-500/10 border border-emerald-500/20 rounded-2xl p-4">
                        <p class="text-emerald-300 text-xs italic">"Prends de leurs biens une aumÃ´ne par laquelle tu les purifies et les Ã©lÃ¨ves." â€” Coran 9:103</p>
                    </div>
                    <p class="text-stone-400 text-xs">La Sadaqa (aumÃ´ne volontaire) est toujours recommandÃ©e, mÃªme un sourire ou une bonne parole compte.</p>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-orange-500/20 border border-orange-500/30 flex items-center justify-center text-orange-400 font-black text-lg flex-shrink-0">4</div>
                    <div class="flex-1"><p class="font-black text-white">Le Sawm</p><p class="text-stone-500 text-xs">Le jeÃ»ne du Ramadan</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Durant tout le mois de Ramadan (9Ã¨me mois lunaire), le musulman s'abstient de manger, boire, et relations intimes du lever au coucher du soleil.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Le but n'est pas de souffrir â€” c'est d'apprendre la maÃ®trise de soi (taqwa), de ressentir la faim des pauvres, et de se rapprocher d'Allah par la priÃ¨re, le Coran et le dhikr.</p>
                    <div class="bg-orange-500/10 border border-orange-500/20 rounded-2xl p-4">
                        <p class="text-orange-300 text-xs italic">"Le jeÃ»ne est pour Moi, et c'est Moi qui en donne la rÃ©compense." â€” Hadith Qudsi (Bukhari)</p>
                    </div>
                    <p class="text-stone-400 text-xs">Laylat al-Qadr (la Nuit du Destin) est dans les 10 derniers jours â€” meilleure que 1000 mois. Celui qui la vit avec foi, ses pÃ©chÃ©s sont pardonnÃ©s.</p>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-rose-500/20 border border-rose-500/30 flex items-center justify-center text-rose-400 font-black text-lg flex-shrink-0">5</div>
                    <div class="flex-1"><p class="font-black text-white">Le Hajj</p><p class="text-stone-500 text-xs">Le pÃ¨lerinage Ã  La Mecque</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Le Hajj est obligatoire une fois dans sa vie pour tout musulman qui en a les moyens physiques et financiers. Il a lieu au 12Ã¨me mois lunaire (Dhul-Hijja).</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Rituel : Tawaf (7 tours de la Ka'ba), Sa'y (7 allers-retours entre Safa et Marwa), station Ã  Arafat, sacrifice de l'AÃ¯d. Ce sont les mÃªmes gestes qu'IbrÃ¢hÃ®m ï·º il y a 4000 ans.</p>
                    <div class="bg-rose-500/10 border border-rose-500/20 rounded-2xl p-4">
                        <p class="text-rose-300 text-xs italic">"Le pÃ¨lerinage bien accompli n'a pas d'autre rÃ©compense que le Paradis." â€” Bukhari & Muslim</p>
                    </div>
                </div>
            </details>
        </div>

        <!-- PILLIERS DE LA FOI -->
        <div id="fsection-iman" class="hidden space-y-3">
            <div class="rounded-3xl p-1 mb-2" style="background:linear-gradient(135deg,#1e3a8a,#3b82f6,#1e40af)">
                <div class="rounded-[1.25rem] p-5" style="background:#1A1714">
                    <p class="text-blue-400 text-[9px] font-black uppercase tracking-widest mb-1">Les 6 Piliers de la Foi (Al-ImÃ¢n)</p>
                    <p class="text-stone-300 text-xs">L'ImÃ¢n est ce que tu crois dans ton cÅ“ur. Ces 6 croyances forment la fondation de ta vision du monde.</p>
                </div>
            </div>

            <details class="card overflow-hidden group" open>
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-blue-500/20 border border-blue-500/30 flex items-center justify-center text-blue-400 font-black text-lg flex-shrink-0">1</div>
                    <div class="flex-1"><p class="font-black text-white">Croire en Allah</p><p class="text-stone-500 text-xs">Al-ImÃ¢n billÃ¢h</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4">
                    <p class="text-stone-300 text-sm leading-relaxed mb-3">Croire qu'Allah existe, qu'Il est Un (tawhid), qu'Il possÃ¨de tous les attributs de perfection, et qu'Il est exempt de tout dÃ©faut. Il n'a pas de partenaire, pas d'enfant, pas de semblable.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Ce n'est pas juste "croire en Dieu" â€” c'est connaÃ®tre Ses noms et attributs, comprendre Sa grandeur, et laisser cette connaissance transformer ta vie et tes dÃ©cisions.</p>
                    <div class="bg-blue-500/10 border border-blue-500/20 rounded-2xl p-4 mt-3">
                        <p class="text-2xl amiri text-blue-300 text-center mb-1">Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ</p>
                        <p class="text-blue-300 text-xs italic text-center">"Dis : Il est Allah, l'Unique." â€” Al-Ikhlas 112:1</p>
                    </div>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-violet-500/20 border border-violet-500/30 flex items-center justify-center text-violet-400 font-black text-lg flex-shrink-0">2</div>
                    <div class="flex-1"><p class="font-black text-white">Croire aux Anges</p><p class="text-stone-500 text-xs">Al-ImÃ¢n bil-malÃ¢'ika</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Les anges sont des crÃ©atures de lumiÃ¨re crÃ©Ã©es d'avant toi. Ils obÃ©issent parfaitement Ã  Allah et ne commettent jamais de pÃ©chÃ©. Ils sont invisibles mais prÃ©sents.</p>
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">JibrÃ®l ï·º</p><p class="text-stone-500">RÃ©vÃ©lation divine</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">MÃ®kÃ¢'Ã®l ï·º</p><p class="text-stone-500">Pluie et subsistance</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">IsrÃ¢fÃ®l ï·º</p><p class="text-stone-500">Sonnera la trompette</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">KirÃ¢man KÃ¢tibÃ®n</p><p class="text-stone-500">Notent tes actes</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">Munkar & Nakir</p><p class="text-stone-500">Questions dans la tombe</p></div>
                        <div class="bg-white/5 p-3 rounded-xl"><p class="font-bold text-violet-300">MÃ¢lik</p><p class="text-stone-500">Gardien de l'enfer</p></div>
                    </div>
                    <p class="text-stone-400 text-xs">Deux anges t'accompagnent en permanence et notent tes actes. L'un Ã  droite pour les bonnes actions, l'un Ã  gauche pour les mauvaises.</p>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-emerald-500/20 border border-emerald-500/30 flex items-center justify-center text-emerald-400 font-black text-lg flex-shrink-0">3</div>
                    <div class="flex-1"><p class="font-black text-white">Croire aux Livres rÃ©vÃ©lÃ©s</p><p class="text-stone-500 text-xs">Al-ImÃ¢n bil-kutub</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Allah a envoyÃ© des livres Ã  Ses prophÃ¨tes comme guides pour l'humanitÃ©. On croit en tous les livres originaux.</p>
                    <div class="space-y-2">
                        <div class="flex items-center gap-3 bg-white/5 p-3 rounded-xl"><span class="text-lg">ğŸ“œ</span><div><p class="text-xs font-bold text-stone-200">Suhuf â€” Abraham ï·º</p><p class="text-[10px] text-stone-500">Les feuillets rÃ©vÃ©lÃ©s</p></div></div>
                        <div class="flex items-center gap-3 bg-white/5 p-3 rounded-xl"><span class="text-lg">ğŸ“œ</span><div><p class="text-xs font-bold text-stone-200">TawrÃ¢t (Torah) â€” MÃ»sÃ¢ ï·º</p><p class="text-[10px] text-stone-500">Loi divine d'IsraÃ«l</p></div></div>
                        <div class="flex items-center gap-3 bg-white/5 p-3 rounded-xl"><span class="text-lg">ğŸ“œ</span><div><p class="text-xs font-bold text-stone-200">ZabÃ»r (Psaumes) â€” DÃ¢wÃ»d ï·º</p><p class="text-[10px] text-stone-500">Louanges et sagesse</p></div></div>
                        <div class="flex items-center gap-3 bg-white/5 p-3 rounded-xl"><span class="text-lg">ğŸ“œ</span><div><p class="text-xs font-bold text-stone-200">InjÃ®l (Ã‰vangile) â€” ÃsÃ¢ ï·º</p><p class="text-[10px] text-stone-500">Message de JÃ©sus originel</p></div></div>
                        <div class="flex items-center gap-3 bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl"><span class="text-lg">ğŸ“–</span><div><p class="text-xs font-bold text-amber-300">Le Coran â€” Muhammad ï·º</p><p class="text-[10px] text-stone-400">Le seul prÃ©servÃ© tel quel jusqu'Ã  la fin des temps</p></div></div>
                    </div>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-amber-500/20 border border-amber-500/30 flex items-center justify-center text-amber-400 font-black text-lg flex-shrink-0">4</div>
                    <div class="flex-1"><p class="font-black text-white">Croire aux ProphÃ¨tes</p><p class="text-stone-500 text-xs">Al-ImÃ¢n bir-rusul</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4">
                    <p class="text-stone-300 text-sm leading-relaxed mb-3">Allah a envoyÃ© 124 000 prophÃ¨tes selon la tradition, dont 25 sont mentionnÃ©s dans le Coran. On les aime et les respecte tous â€” sans distinctions.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Muhammad ï·º est le dernier et le sceau des prophÃ¨tes. AprÃ¨s lui, plus aucun prophÃ¨te. Le Coran est le dernier message. Croire en un prophÃ¨te implique de le respecter, pas de l'adorer.</p>
                    <div class="bg-amber-500/10 border border-amber-500/20 rounded-2xl p-4 mt-3">
                        <p class="text-amber-300 text-xs italic">"Muhammad n'est que le Messager d'Allah â€” aprÃ¨s lui sont venus d'autres Messagers." â€” Coran 3:144</p>
                    </div>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-rose-500/20 border border-rose-500/30 flex items-center justify-center text-rose-400 font-black text-lg flex-shrink-0">5</div>
                    <div class="flex-1"><p class="font-black text-white">Croire au Jour Dernier</p><p class="text-stone-500 text-xs">Al-ImÃ¢n bil-yawm al-Ã¢khir</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Ce monde n'est qu'un passage. La vraie vie commence aprÃ¨s. Le Jour du Jugement, chaque acte, chaque parole, chaque intention sera pesÃ©e.</p>
                    <div class="space-y-2 text-xs">
                        <div class="flex gap-3 items-start bg-white/5 p-3 rounded-xl"><span class="text-stone-400 font-bold w-24 flex-shrink-0">La mort</span><p class="text-stone-300">SÃ©paration de l'Ã¢me et du corps. DÃ©but du Barzakh (pÃ©riode intermÃ©diaire).</p></div>
                        <div class="flex gap-3 items-start bg-white/5 p-3 rounded-xl"><span class="text-stone-400 font-bold w-24 flex-shrink-0">La tombe</span><p class="text-stone-300">Questions de Munkar et Nakir : Qui est ton Seigneur ? Quelle est ta religion ? Qui est ton ProphÃ¨te ?</p></div>
                        <div class="flex gap-3 items-start bg-white/5 p-3 rounded-xl"><span class="text-stone-400 font-bold w-24 flex-shrink-0">La rÃ©surrection</span><p class="text-stone-300">Tout le monde est ressuscitÃ© et rassemblÃ© pour le compte.</p></div>
                        <div class="flex gap-3 items-start bg-white/5 p-3 rounded-xl"><span class="text-stone-400 font-bold w-24 flex-shrink-0">La Balance</span><p class="text-stone-300">Les actes sont pesÃ©s. MÃªme un atome de bien ou de mal compte.</p></div>
                        <div class="flex gap-3 items-start bg-amber-500/10 border border-amber-500/20 p-3 rounded-xl"><span class="text-amber-400 font-bold w-24 flex-shrink-0">Le Paradis</span><p class="text-stone-300">Ce qu'aucun Å“il n'a vu, aucune oreille n'a entendu, aucun cÅ“ur humain n'a imaginÃ©. Ã‰ternel.</p></div>
                    </div>
                </div>
            </details>

            <details class="card overflow-hidden group">
                <summary class="p-5 flex items-center gap-4 cursor-pointer list-none outline-none">
                    <div class="w-10 h-10 rounded-2xl bg-indigo-500/20 border border-indigo-500/30 flex items-center justify-center text-indigo-400 font-black text-lg flex-shrink-0">6</div>
                    <div class="flex-1"><p class="font-black text-white">Croire au Destin (Al-Qadar)</p><p class="text-stone-500 text-xs">Al-ImÃ¢n bil-qadar</p></div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-500 group-open:rotate-180 transition-transform flex-shrink-0"></i>
                </summary>
                <div class="px-5 pb-5 border-t border-white/5 pt-4 space-y-3">
                    <p class="text-stone-300 text-sm leading-relaxed">Allah connaÃ®t tout ce qui Ã©tait, tout ce qui est, et tout ce qui sera. Il a tout dÃ©crÃ©tÃ©. Mais cette croyance ne rend pas l'homme passif â€” tu as une volontÃ© et tu en seras responsable.</p>
                    <p class="text-stone-400 text-xs leading-relaxed">Quand quelque chose de difficile arrive : ce n'est pas un hasard. Quand quelque chose de bien arrive : ce n'est pas un hasard non plus. Allah est Al-HakÃ®m â€” le Sage.</p>
                    <div class="bg-indigo-500/10 border border-indigo-500/20 rounded-2xl p-4">
                        <p class="text-indigo-300 text-xs italic">"Peut-Ãªtre que vous n'aimez pas une chose alors qu'elle est meilleure pour vous. Et peut-Ãªtre aimez-vous une chose qui est mauvaise pour vous. Allah sait et vous ne savez pas." â€” Coran 2:216</p>
                    </div>
                </div>
            </details>
        </div>

        <!-- REPERES DE L'ISLAM -->
        <div id="fsection-milestones" class="hidden space-y-3">
            <div class="rounded-3xl p-1 mb-2" style="background:linear-gradient(135deg,#064e3b,#10b981,#065f46)">
                <div class="rounded-[1.25rem] p-5" style="background:#1A1714">
                    <p class="text-emerald-400 text-[9px] font-black uppercase tracking-widest mb-1">RepÃ¨res essentiels</p>
                    <p class="text-stone-300 text-xs">La frise chronologique, les lieux saints, les fÃªtes â€” pour te situer dans ta religion.</p>
                </div>
            </div>

            <div class="card p-5">
                <h3 class="text-xs font-black text-amber-400 uppercase tracking-widest mb-4">Chronologie de l'Islam</h3>
                <div class="space-y-3">
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">570 EC</p><p class="text-sm font-bold text-stone-200">Naissance de Muhammad ï·º</p><p class="text-xs text-stone-500">Ã€ La Mecque, l'AnnÃ©e de l'Ã‰lÃ©phant</p></div></div>
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">610 EC</p><p class="text-sm font-bold text-stone-200">PremiÃ¨re rÃ©vÃ©lation dans la grotte de HirÃ¢</p><p class="text-xs text-stone-500">L'ange JibrÃ®l : "Lis !" â€” DÃ©but de l'Islam</p></div></div>
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">622 EC</p><p class="text-sm font-bold text-stone-200">L'HÃ©gire â€” dÃ©but du calendrier islamique</p><p class="text-xs text-stone-500">Migration de La Mecque vers MÃ©dine. An 1 de l'HÃ©gire.</p></div></div>
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">624 EC</p><p class="text-sm font-bold text-stone-200">Bataille de Badr â€” premiÃ¨re grande victoire</p><p class="text-xs text-stone-500">313 musulmans vs 1000 mecquois. Victoire miraculeuse.</p></div></div>
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">630 EC</p><p class="text-sm font-bold text-stone-200">ConquÃªte de La Mecque sans effusion de sang</p><p class="text-xs text-stone-500">Le ProphÃ¨te ï·º pardonna Ã  tous ses ennemis</p></div></div>
                    <div class="flex gap-3"><div class="w-0.5 bg-amber-400/30 flex-shrink-0 ml-2"></div><div><p class="text-[10px] text-amber-400 font-black">632 EC</p><p class="text-sm font-bold text-stone-200">Mort du ProphÃ¨te ï·º â€” 63 ans</p><p class="text-xs text-stone-500">Ã€ MÃ©dine, aprÃ¨s le Hajj d'adieu</p></div></div>
                </div>
            </div>

            <div class="card p-5">
                <h3 class="text-xs font-black text-emerald-400 uppercase tracking-widest mb-4">Les lieux saints</h3>
                <div class="space-y-3">
                    <div class="bg-white/5 p-4 rounded-2xl flex gap-4 items-start">
                        <span class="text-2xl">ğŸ•‹</span>
                        <div><p class="font-black text-sm text-white">La Ka'ba â€” La Mecque</p><p class="text-xs text-stone-400 mt-1">La maison d'Allah sur terre. Direction de la priÃ¨re (qibla). Construite par Ibrahim et IsmaÃ¯l ï·º. Point de convergence du Hajj.</p></div>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl flex gap-4 items-start">
                        <span class="text-2xl">ğŸ•Œ</span>
                        <div><p class="font-black text-sm text-white">Masjid an-Nabawi â€” MÃ©dine</p><p class="text-xs text-stone-400 mt-1">La mosquÃ©e du ProphÃ¨te ï·º. Sa tombe s'y trouve. Visiter est fortement recommandÃ©. Une priÃ¨re ici vaut 1000 priÃ¨res ailleurs.</p></div>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl flex gap-4 items-start">
                        <span class="text-2xl">ğŸŒ™</span>
                        <div><p class="font-black text-sm text-white">Masjid Al-Aqsa â€” JÃ©rusalem</p><p class="text-xs text-stone-400 mt-1">La troisiÃ¨me mosquÃ©e la plus sacrÃ©e de l'Islam. PremiÃ¨re qibla des musulmans. Destination du voyage nocturne (Al-IsrÃ¢) du ProphÃ¨te ï·º.</p></div>
                    </div>
                </div>
            </div>

            <div class="card p-5">
                <h3 class="text-xs font-black text-indigo-400 uppercase tracking-widest mb-4">Les fÃªtes islamiques</h3>
                <div class="space-y-2">
                    <div class="bg-white/5 p-4 rounded-2xl">
                        <p class="font-black text-sm text-white mb-1">ğŸŒ™ AÃ¯d al-Fitr</p>
                        <p class="text-xs text-stone-400">FÃªte de la rupture du jeÃ»ne â€” 1er Chawwal (mois aprÃ¨s Ramadan). SalÃ¢t de l'AÃ¯d, Zakat al-Fitr, repas en famille.</p>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl">
                        <p class="font-black text-sm text-white mb-1">ğŸ‘ AÃ¯d al-Adha</p>
                        <p class="text-xs text-stone-400">FÃªte du sacrifice â€” 10 Dhul-Hijja. CommÃ©more le sacrifice d'Ibrahim ï·º. SalÃ¢t, sacrifice, partage de la viande.</p>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl">
                        <p class="font-black text-sm text-white mb-1">âœ¨ Laylat al-Qadr</p>
                        <p class="text-xs text-stone-400">La Nuit du Destin â€” dans les 10 derniers jours du Ramadan (chercher les nuits impaires). Meilleure que 1000 mois.</p>
                    </div>
                    <div class="bg-white/5 p-4 rounded-2xl">
                        <p class="font-black text-sm text-white mb-1">ğŸŒ… Ashura</p>
                        <p class="text-xs text-stone-400">Le 10 Muharram â€” jour oÃ¹ MÃ»sÃ¢ ï·º fut sauvÃ© du Pharaon. Le ProphÃ¨te ï·º jeÃ»nait ce jour-lÃ  en gratitude.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- PAROLES DE FORCE -->
        <div id="fsection-affirmations" class="hidden space-y-4">
            <div class="rounded-3xl p-1 mb-2" style="background:linear-gradient(135deg,#4c1d95,#7c3aed,#5b21b6)">
                <div class="rounded-[1.25rem] p-5" style="background:#1A1714">
                    <p class="text-violet-400 text-[9px] font-black uppercase tracking-widest mb-1">Paroles de force â€” Ã  rÃ©pÃ©ter chaque jour</p>
                    <p class="text-stone-300 text-xs">Tu es revenu Ã  l'Islam aprÃ¨s en avoir Ã©tÃ© Ã©loignÃ©. C'est une grÃ¢ce immense. Voici des paroles pour ancrer ta foi.</p>
                </div>
            </div>

            <div id="affirmations-container" class="space-y-3"></div>
        </div>

    </div>

    <!-- JOURNAL TAB -->
    <div id="tab-journal" class="hidden px-4">
        <header class="pt-12 pb-6">
            <h1 class="text-3xl font-black text-white">Journal ğŸ”’</h1>
            <p class="text-stone-500 text-sm mt-1">Ton espace 100% privÃ©</p>
        </header>

        <div class="card p-5 mb-5">
            <p class="text-xs text-stone-400 mb-3 italic">DÃ©pose ce que tu portes. Allah entend ce que tu n'arrives pas Ã  dire Ã  voix haute.</p>
            <textarea id="journal-textarea" rows="6" placeholder="Ce que j'ai sur le cÅ“ur aujourd'hui..." class="w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-sm outline-none text-stone-200 placeholder-stone-600 resize-none leading-relaxed mb-3"></textarea>
            <button onclick="window.addJournalEntry(); window.renderJournal();" class="w-full py-3 rounded-xl text-xs font-black uppercase tracking-widest gold-gradient text-stone-900 shadow-lg active:scale-95 transition-all">Enregistrer ğŸ”’</button>
        </div>

        <h2 class="text-xs font-black uppercase tracking-widest text-stone-400 mb-3">Mes entrÃ©es</h2>
        <div id="journal-list" class="space-y-3 pb-4">
            <p class="text-stone-500 italic text-xs text-center py-8">Ton espace intime t'attend...</p>
        </div>
    </div>

</div><!-- end app -->

<!-- BOTTOM NAV -->
<nav class="fixed bottom-0 left-0 right-0 z-50 px-2 pb-2 pt-2" style="background:rgba(12,10,9,0.95);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,0.07)">
    <div class="grid grid-cols-7 gap-0.5">
        <button onclick="window.showTab('home'); window.renderHome();" id="nav-home" class="active-nav flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="home" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Suivi</span>
        </button>
        <button onclick="window.showTab('quran'); window.renderQuran();" id="nav-quran" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="book-open" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Coran</span>
        </button>
        <button onclick="window.showTab('prophets');" id="nav-prophets" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="stars" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">ProphÃ¨tes</span>
        </button>
        <button onclick="window.showTab('arabic'); window.initArabic();" id="nav-arabic" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="type" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Arabe</span>
        </button>
        <button onclick="window.showTab('duas'); window.renderDuas();" id="nav-duas" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="hand" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Duas</span>
        </button>
        <button onclick="window.showTab('dhikr'); window.refreshDhikrUI();" id="nav-dhikr" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="circle-dot" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Dhikr</span>
        </button>
        <button onclick="window.showTab('spiritual'); window.showFoundSection('pillars');" id="nav-spiritual" class="flex flex-col items-center py-2 gap-0.5">
            <i data-lucide="landmark" class="nav-icon w-5 h-5 text-stone-600 transition-colors"></i>
            <span class="nav-label text-[7px] font-black uppercase tracking-tight text-stone-600">Islam</span>
        </button>
    </div>
    <button onclick="window.showTab('journal'); window.renderJournal();" id="nav-journal" style="display:none"></button>
    <!-- Journal accessible via floating button -->
</nav>

<!-- Journal FAB -->
<button onclick="window.showTab('journal'); window.renderJournal();"
    class="fixed bottom-24 right-4 z-[100] w-12 h-12 rounded-2xl gold-gradient flex items-center justify-center shadow-xl shadow-amber-900/50 active:scale-90 transition-all"
    title="Journal intime">
    <i data-lucide="lock" class="w-5 h-5 text-stone-900"></i>
</button>

<datalist id="surah-list">
    <option value="Al-Fatiha"><option value="Al-Baqarah"><option value="Al-Imran"><option value="An-Nisa"><option value="Al-Ma'idah">
    <option value="Al-Kahf"><option value="Ya-Sin"><option value="Ar-Rahman"><option value="Al-Mulk"><option value="Al-Waqi'ah">
    <option value="Al-Waqiah"><option value="Al-Ikhlas"><option value="Al-Falaq"><option value="An-Nas"><option value="Al-Fajr">
    <option value="Ad-Duha"><option value="Al-Asr"><option value="Al-Alaq"><option value="Maryam"><option value="Ta-Ha">
    <option value="Yusuf"><option value="Ibrahim"><option value="Al-Isra"><option value="Al-Anbiya"><option value="Al-Hajj">
    <option value="Al-Mu'minun"><option value="An-Nur"><option value="Al-Qasas"><option value="Az-Zumar"><option value="Ghafir">
    <option value="Muhammad"><option value="Al-Fath"><option value="Al-Hujurat"><option value="Nuh"><option value="Al-Jinn">
</datalist>

<script>
// Init Arabic tab (run once when tab is opened)
window.initArabic = () => {
    const ARABIC_LETTERS = [
        {l:"Ø§",n:"Alif",s:"Ã¢/a",ex:"Ø£ÙÙ„ÙÙ…"},{l:"Ø¨",n:"BÃ¢",s:"b",ex:"Ø¨ÙÙŠØª"},{l:"Øª",n:"TÃ¢",s:"t",ex:"ØªÙÙˆØ¨Ø©"},
        {l:"Ø«",n:"ThÃ¢",s:"th",ex:"Ø«ÙÙˆØ§Ø¨"},{l:"Ø¬",n:"JÃ®m",s:"dj",ex:"Ø¬ÙÙ†ÙÙ‘Ø©"},{l:"Ø­",n:"HÃ¢",s:"h",ex:"Ø­ÙÙ…Ø¯"},
        {l:"Ø®",n:"KhÃ¢",s:"kh",ex:"Ø®ÙÙŠØ±"},{l:"Ø¯",n:"DÃ¢l",s:"d",ex:"Ø¯ÙØ¹Ø§Ø¡"},{l:"Ø°",n:"DhÃ¢l",s:"dh",ex:"Ø°ÙÙƒØ±"},
        {l:"Ø±",n:"RÃ¢",s:"r",ex:"Ø±ÙØ­Ù…Ø©"},{l:"Ø²",n:"ZÃ¢y",s:"z",ex:"Ø²ÙÙƒØ§Ø©"},{l:"Ø³",n:"SÃ®n",s:"s",ex:"Ø³ÙÙ„Ø§Ù…"},
        {l:"Ø´",n:"ShÃ®n",s:"ch",ex:"Ø´ÙÙƒØ±"},{l:"Øµ",n:"SÃ¢d",s:"s emp.",ex:"ØµÙØ¨Ø±"},{l:"Ø¶",n:"DÃ¢d",s:"d emp.",ex:"Ø¶ÙÙˆØ¡"},
        {l:"Ø·",n:"TÃ¢",s:"t emp.",ex:"Ø·ÙÙ‡Ø§Ø±Ø©"},{l:"Ø¸",n:"DhÃ¢",s:"dh emp.",ex:"Ø¸ÙÙÙØ±"},{l:"Ø¹",n:"'Ayn",s:"'",ex:"Ø¹ÙÙ„Ù…"},
        {l:"Øº",n:"Ghayn",s:"gh",ex:"ØºÙÙÙÙˆØ±"},{l:"Ù",n:"FÃ¢",s:"f",ex:"ÙÙØ¬Ø±"},{l:"Ù‚",n:"QÃ¢f",s:"q",ex:"Ù‚ÙØ±Ø¢Ù†"},
        {l:"Ùƒ",n:"KÃ¢f",s:"k",ex:"ÙƒÙØªØ§Ø¨"},{l:"Ù„",n:"LÃ¢m",s:"l",ex:"Ù„ÙÙŠÙ„"},{l:"Ù…",n:"MÃ®m",s:"m",ex:"Ù…ÙØ³Ø¬Ø¯"},
        {l:"Ù†",n:"NÃ»n",s:"n",ex:"Ù†ÙÙˆØ±"},{l:"Ù‡",n:"HÃ¢",s:"h doux",ex:"Ù‡ÙØ¯Ø§ÙŠØ©"},{l:"Ùˆ",n:"WÃ¢w",s:"w/Ã»",ex:"ÙˆÙØ¶ÙˆØ¡"},
        {l:"ÙŠ",n:"YÃ¢",s:"y/Ã®",ex:"ÙŠÙÙ‚ÙŠÙ†"}
    ];
    const grid = document.querySelector('#tab-arabic .card .grid.grid-cols-7');
    if (grid && grid.children.length === 0) {
        grid.innerHTML = ARABIC_LETTERS.map((l,i) =>
            `<button onclick="showLetterInline(${i})" class="letter-btn w-full aspect-square rounded-xl flex items-center justify-center text-lg font-black amiri transition-all ${i===0?'bg-amber-400 text-stone-900':'bg-white/10 text-stone-300'}" data-idx="${i}">${l.l}</button>`
        ).join('');
    }
    // Vowels
    const vGrid = document.getElementById('vowels-grid');
    if (vGrid && vGrid.children.length === 0) {
        const VOWELS = [
            {v:"Ù",n:"Fatha",s:"a court",ex:"ÙƒÙ = ka"},{v:"Ù",n:"Kasra",s:"i court",ex:"ÙƒÙ = ki"},
            {v:"Ù",n:"Damma",s:"u court",ex:"ÙƒÙ = ku"},{v:"Ù‹",n:"TanwÃ®n fath",s:"an",ex:"Ø§Ù† = an"},
            {v:"Ù",n:"TanwÃ®n kasr",s:"in",ex:"ÙŠÙ† = in"},{v:"ÙŒ",n:"TanwÃ®n damm",s:"un",ex:"ÙˆÙ† = un"},
            {v:"Ù’",n:"SukÃ»n",s:"pas de voyelle",ex:"ÙƒÙ’ = k muet"},{v:"Ù‘",n:"Shadda",s:"lettre doublÃ©e",ex:"Ù…Ù‘ = mm"}
        ];
        vGrid.innerHTML = VOWELS.map(v =>
            `<div class="bg-white/5 border border-white/10 rounded-2xl p-4 flex items-center gap-3">
                <span class="text-3xl amiri text-indigo-300 w-10 text-center">${v.v}</span>
                <div>
                    <p class="font-black text-xs text-white">${v.n}</p>
                    <p class="text-[10px] text-stone-400">${v.s}</p>
                    <p class="text-[9px] text-stone-500 italic">${v.ex}</p>
                </div>
            </div>`
        ).join('');
    }
    // Allah names - full 99 list
    const listContainer = document.getElementById('allah-names-list');
    if (listContainer && listContainer.children.length === 0 && window.ALLAH_NAMES) {
        listContainer.innerHTML = window.ALLAH_NAMES.map((n,i) =>
            `<button onclick="showAllahNameFull(${i})" class="w-full flex items-center gap-3 py-3 px-3 rounded-xl hover:bg-white/5 active:bg-white/10 transition-all text-left border-b border-white/5">
                <span class="text-stone-500 text-[10px] font-black w-6 flex-shrink-0">${String(i+1).padStart(2,'0')}</span>
                <span class="text-2xl amiri text-emerald-300 w-12 text-right flex-shrink-0">${n.a}</span>
                <div class="flex-1 min-w-0">
                    <p class="font-black text-xs text-stone-200">${n.n}</p>
                    <p class="text-[10px] text-stone-500 truncate">${n.t}</p>
                </div>
                <i data-lucide="chevron-right" class="w-3 h-3 text-stone-600 flex-shrink-0"></i>
            </button>`
        ).join('');
    }
    lucide.createIcons();
};

window.showAllahNameFull = (i) => {
    const n = window.ALLAH_NAMES[i];
    document.getElementById('aname-arabic').innerText = n.a;
    document.getElementById('aname-name').innerText = `${i+1}. ${n.n}`;
    document.getElementById('aname-trans').innerText = n.t;
    document.getElementById('aname-desc').innerText = n.d;
    const det = document.getElementById('aname-detail');
    det.classList.remove('hidden');
    det.scrollIntoView({behavior:'smooth', block:'nearest'});
    // Speak the Arabic name
    if('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        const utt = new SpeechSynthesisUtterance(n.a);
        utt.lang = 'ar-SA';
        utt.rate = 0.8;
        window.speechSynthesis.speak(utt);
    }
};

window.showLetterInline = (i) => {
    const ARABIC_LETTERS = [
        {l:"Ø§",n:"Alif",s:"Ã¢ / a",ex:"Ø£ÙÙ„ÙÙ… (Alam - douleur)"},{l:"Ø¨",n:"BÃ¢",s:"b",ex:"Ø¨ÙÙŠØª (Bayt - maison)"},
        {l:"Øª",n:"TÃ¢",s:"t",ex:"ØªÙÙˆØ¨Ø© (Tawba - repentir)"},{l:"Ø«",n:"ThÃ¢",s:"th (anglais)",ex:"Ø«ÙÙˆØ§Ø¨ (ThawÃ¢b - rÃ©compense)"},
        {l:"Ø¬",n:"JÃ®m",s:"dj",ex:"Ø¬ÙÙ†ÙÙ‘Ø© (Janna - paradis)"},{l:"Ø­",n:"HÃ¢",s:"h aspirÃ©",ex:"Ø­ÙÙ…Ø¯ (Hamd - louange)"},
        {l:"Ø®",n:"KhÃ¢",s:"kh (r guttural)",ex:"Ø®ÙÙŠØ± (Khayr - bien)"},{l:"Ø¯",n:"DÃ¢l",s:"d",ex:"Ø¯ÙØ¹Ø§Ø¡ (Du'Ã¢ - invocation)"},
        {l:"Ø°",n:"DhÃ¢l",s:"dh (th anglais)",ex:"Ø°ÙÙƒØ± (Dhikr - rappel d'Allah)"},{l:"Ø±",n:"RÃ¢",s:"r roulÃ©",ex:"Ø±ÙØ­Ù…Ø© (Rahma - misÃ©ricorde)"},
        {l:"Ø²",n:"ZÃ¢y",s:"z",ex:"Ø²ÙÙƒØ§Ø© (ZakÃ¢t - aumÃ´ne)"},{l:"Ø³",n:"SÃ®n",s:"s",ex:"Ø³ÙÙ„Ø§Ù… (SalÃ¢m - paix)"},
        {l:"Ø´",n:"ShÃ®n",s:"ch",ex:"Ø´ÙÙƒØ± (Shukr - gratitude)"},{l:"Øµ",n:"SÃ¢d",s:"s emphatique",ex:"ØµÙØ¨Ø± (Sabr - patience)"},
        {l:"Ø¶",n:"DÃ¢d",s:"d emphatique",ex:"Ø¶ÙÙˆØ¡ (Daw' - lumiÃ¨re)"},{l:"Ø·",n:"TÃ¢",s:"t emphatique",ex:"Ø·ÙÙ‡Ø§Ø±Ø© (TahÃ¢ra - puretÃ©)"},
        {l:"Ø¸",n:"DhÃ¢",s:"dh emphatique",ex:"Ø¸ÙÙÙØ± (Dhafar - victoire)"},{l:"Ø¹",n:"'Ayn",s:"' (voyelle guttural)",ex:"Ø¹ÙÙ„Ù… ('Ilm - savoir)"},
        {l:"Øº",n:"Ghayn",s:"gh (r parisien)",ex:"ØºÙÙÙÙˆØ± (GhafÃ»r - pardonneur)"},{l:"Ù",n:"FÃ¢",s:"f",ex:"ÙÙØ¬Ø± (Fajr - aube)"},
        {l:"Ù‚",n:"QÃ¢f",s:"q guttural",ex:"Ù‚ÙØ±Ø¢Ù† (Qur'Ã¢n)"},{l:"Ùƒ",n:"KÃ¢f",s:"k",ex:"ÙƒÙØªØ§Ø¨ (KitÃ¢b - livre)"},
        {l:"Ù„",n:"LÃ¢m",s:"l",ex:"Ù„ÙÙŠÙ„ (Layl - nuit)"},{l:"Ù…",n:"MÃ®m",s:"m",ex:"Ù…ÙØ³Ø¬Ø¯ (Masjid - mosquÃ©e)"},
        {l:"Ù†",n:"NÃ»n",s:"n",ex:"Ù†ÙÙˆØ± (NÃ»r - lumiÃ¨re)"},{l:"Ù‡",n:"HÃ¢",s:"h doux",ex:"Ù‡ÙØ¯Ø§ÙŠØ© (HidÃ¢ya - guidance)"},
        {l:"Ùˆ",n:"WÃ¢w",s:"w / Ã»",ex:"ÙˆÙØ¶ÙˆØ¡ (WudÃ» - ablutions)"},{l:"ÙŠ",n:"YÃ¢",s:"y / Ã®",ex:"ÙŠÙÙ‚ÙŠÙ† (YaqÃ®n - certitude)"}
    ];
    const l = ARABIC_LETTERS[i];
    document.getElementById('letter-big').innerText = l.l;
    document.getElementById('letter-name').innerText = l.n;
    document.getElementById('letter-sound').innerText = 'Son : ' + l.s;
    document.getElementById('letter-example').innerText = 'Ex : ' + l.ex;
    document.querySelectorAll('.letter-btn').forEach((btn,j) => {
        btn.classList.toggle('bg-amber-400', j===i);
        btn.classList.toggle('text-stone-900', j===i);
        btn.classList.toggle('bg-white/10', j!==i);
        btn.classList.toggle('text-stone-300', j!==i);
    });
    // Auto-speak the letter in Arabic
    window.speakLetter();
};

window.speakLetter = () => {
    const letterEl = document.getElementById('letter-big');
    const exampleEl = document.getElementById('letter-example');
    if (!'speechSynthesis' in window) return;
    window.speechSynthesis.cancel();
    // Speak the example word in Arabic for authentic pronunciation
    const exampleText = exampleEl ? exampleEl.innerText.split('(')[0].trim() : letterEl.innerText;
    const utt = new SpeechSynthesisUtterance(exampleText);
    utt.lang = 'ar-SA';
    utt.rate = 0.7;
    window.speechSynthesis.speak(utt);
};

// ============ FOUNDATIONS TAB ============
window.showFoundSection = (section) => {
    ['pillars','iman','milestones','affirmations'].forEach(s => {
        const el = document.getElementById('fsection-' + s);
        const btn = document.getElementById('fsec-' + s);
        if (el) el.classList.toggle('hidden', s !== section);
        if (btn) {
            btn.classList.toggle('bg-amber-400', s === section);
            btn.classList.toggle('text-stone-900', s === section);
            btn.classList.toggle('bg-white/10', s !== section);
            btn.classList.toggle('text-stone-400', s !== section);
        }
    });
    if (section === 'affirmations') renderAffirmations();
    lucide.createIcons();
};

function renderAffirmations() {
    const container = document.getElementById('affirmations-container');
    if (!container || container.children.length > 0) return;
    const AFFIRMATIONS = [
        { color: 'amber', emoji: 'â˜€ï¸', title: 'Tu as Ã©tÃ© choisi', text: 'Allah t\'a ramenÃ© Ã  l\'Islam. Pas par hasard. Parmi des milliards de gens, Il a tournÃ© ton cÅ“ur vers Lui. Ce retour, c\'est Lui qui l\'a dÃ©cidÃ©. Tu es aimÃ©.', verse: '"Allah choisit pour Lui qui Il veut." â€” Coran 42:13' },
        { color: 'emerald', emoji: 'ğŸŒ±', title: 'Tu repars de zÃ©ro â€” et c\'est beau', text: 'La Shahada efface tout ce qui Ã©tait avant. Tu ne portes pas tes erreurs passÃ©es â€” elles sont parties. Tu es un nouveau Quincy. Plus lÃ©ger. Plus libre. Plus entier.', verse: '"L\'Islam efface ce qui Ã©tait avant lui." â€” Hadith (Muslim)' },
        { color: 'indigo', emoji: 'ğŸ¤²', title: 'Allah t\'entend TOUJOURS', text: 'MÃªme quand tu rates une priÃ¨re. MÃªme quand tu te sens indigne. MÃªme Ã  3h du matin dans le silence. Il est plus proche de toi que ta veine jugulaire. Il attend que tu L\'appelles.', verse: '"Nous sommes plus proche de lui que sa veine jugulaire." â€” Coran 50:16' },
        { color: 'rose', emoji: 'ğŸ’', title: 'Tes fautes ne te dÃ©finissent pas', text: 'Allah est Al-GhaffÃ¢r â€” il pardonne encore et encore. Il est At-TawwÃ¢b â€” il revient vers toi Ã  chaque fois que tu reviens vers Lui. Tu n\'es pas tes pÃ©chÃ©s. Tu es Son serviteur qui essaie.', verse: '"Dis : Ã” Mes serviteurs qui avez Ã©tÃ© excessifs, ne dÃ©sespÃ©rez pas de la misÃ©ricorde d\'Allah." â€” Coran 39:53' },
        { color: 'violet', emoji: 'ğŸŒ™', title: 'Chaque priÃ¨re compte', text: 'MÃªme la priÃ¨re imparfaite. MÃªme celle oÃ¹ tu Ã©tais distrait. MÃªme celle rattrapÃ©e. Allah voit l\'effort, pas la perfection. Tu te lÃ¨ves pour Fajr malgrÃ© la fatigue ? C\'est de l\'amour.', verse: '"Cherchez secours dans la patience et la priÃ¨re." â€” Coran 2:45' },
        { color: 'amber', emoji: 'ğŸ”¥', title: 'L\'Islam est ta force, pas ton fardeau', text: 'La priÃ¨re est un refuge, pas une punition. Le dhikr apaise le cÅ“ur. Le jeÃ»ne renforce l\'Ã¢me. Cette religion a Ã©tÃ© conÃ§ue pour t\'Ã©lever, pas t\'Ã©craser. Vis-la avec joie.', verse: '"Allah veut vous faciliter les choses, Il ne veut pas vous les rendre difficiles." â€” Coran 2:185' },
        { color: 'emerald', emoji: 'ğŸ›¡ï¸', title: 'Allah est avec les patients', text: 'Les jours difficiles, les doutes, les tentations â€” tout Ã§a fait partie du chemin. Aucun prophÃ¨te n\'a eu une vie facile. Mais ils ont tous tenu. Et Allah Ã©tait avec eux. Il est avec toi aussi.', verse: '"Allah est avec les patients." â€” Coran 2:153' },
        { color: 'indigo', emoji: 'âœ¨', title: 'Tu mÃ©rites le Paradis', text: 'Le Paradis est fait pour les gens comme toi â€” ceux qui ont trÃ©buchÃ© mais se sont relevÃ©s. Ceux qui ont doutÃ© mais sont restÃ©s. Ceux qui cherchent sincÃ¨rement Ã  s\'amÃ©liorer chaque jour.', verse: '"Pour ceux qui croient et font de bonnes Å“uvres â€” ils auront des jardins." â€” Coran 2:25' },
    ];

    container.innerHTML = AFFIRMATIONS.map((a, i) => {
        const colors = {
            amber: { bg: 'rgba(245,158,11,0.08)', border: 'rgba(245,158,11,0.2)', text: '#F59E0B', badge: 'rgba(245,158,11,0.15)' },
            emerald: { bg: 'rgba(16,185,129,0.08)', border: 'rgba(16,185,129,0.2)', text: '#10B981', badge: 'rgba(16,185,129,0.15)' },
            indigo: { bg: 'rgba(99,102,241,0.08)', border: 'rgba(99,102,241,0.2)', text: '#818CF8', badge: 'rgba(99,102,241,0.15)' },
            rose: { bg: 'rgba(244,63,94,0.08)', border: 'rgba(244,63,94,0.2)', text: '#FB7185', badge: 'rgba(244,63,94,0.15)' },
            violet: { bg: 'rgba(139,92,246,0.08)', border: 'rgba(139,92,246,0.2)', text: '#A78BFA', badge: 'rgba(139,92,246,0.15)' },
        };
        const c = colors[a.color];
        return `<div class="rounded-3xl p-5" style="background:${c.bg};border:1px solid ${c.border}">
            <div class="flex items-center gap-3 mb-3">
                <span class="text-2xl">${a.emoji}</span>
                <p class="font-black text-base" style="color:${c.text}">${a.title}</p>
            </div>
            <p class="text-stone-200 text-sm leading-relaxed mb-4">${a.text}</p>
            <div class="rounded-2xl p-3" style="background:${c.badge}">
                <p class="text-xs italic" style="color:${c.text}">${a.verse}</p>
            </div>
        </div>`;
    }).join('');
}

// Set today date
const d = new Date();
const months = ['janvier','fÃ©vrier','mars','avril','mai','juin','juillet','aoÃ»t','septembre','octobre','novembre','dÃ©cembre'];
const days = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];
document.getElementById('today-date').innerText = `${days[d.getDay()]} ${d.getDate()} ${months[d.getMonth()]}`;

// Init built-in duas on load
document.addEventListener('DOMContentLoaded', () => {
    const DUAS = [
        {title:"Dua YÃ»nus ğŸ‹", arabic:"Ù„ÙÙ‘Ø§ Ø¥ÙÙ„ÙÙ°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø£ÙÙ†ØªÙ Ø³ÙØ¨Ù’Ø­ÙØ§Ù†ÙÙƒÙ Ø¥ÙÙ†ÙÙ‘ÙŠ ÙƒÙÙ†ØªÙ Ù…ÙÙ†Ù Ø§Ù„Ø¸ÙÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†Ù", transliteration:"LÃ¢ ilÃ¢ha illÃ¢ anta subhÃ¢naka innÃ® kuntu min adh-dhÃ¢limÃ®n", translation:"Il n'y a de dieu que Toi, Gloire Ã  Toi, j'ai Ã©tÃ© parmi les injustes.", context:"RÃ©citÃ©e par YÃ»nus dans le ventre de la baleine. Ã€ rÃ©citer 40 fois en pÃ©riode de dÃ©tresse."},
        {title:"Dua du matin ğŸŒ…", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¨ÙÙƒÙ Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ¨ÙÙƒÙ Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†ÙØ§", transliteration:"AllÃ¢humma bika asbahna wa bika amsayna", translation:"Ã” Allah, c'est par Toi que nous entrons dans le matin et dans le soir.", context:"Ã€ rÃ©citer au rÃ©veil."},
        {title:"Dua de l'anxiÃ©tÃ© ğŸŒŠ", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù Ø§Ù„Ù’Ù‡ÙÙ…ÙÙ‘ ÙˆÙØ§Ù„Ù’Ø­ÙØ²ÙÙ†Ù", transliteration:"AllÃ¢humma innÃ® a'Ã»dhu bika min al-hamm wal-hazan", translation:"Ã” Allah, je cherche refuge en Toi contre l'inquiÃ©tude et la tristesse.", context:"Quand le cÅ“ur est lourd. RÃ©cite 7 fois."},
        {title:"Dua Laylat al-Qadr âœ¨", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙƒÙ Ø¹ÙÙÙÙˆÙŒÙ‘ ØªÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙÙÙ’ÙˆÙ ÙÙØ§Ø¹Ù’ÙÙ Ø¹ÙÙ†ÙÙ‘ÙŠ", transliteration:"AllÃ¢humma innaka 'afuwwun tuhibb al-'afw fa'fu 'annÃ®", translation:"Ã” Allah, Tu es l'Indulgent, Tu aimes l'indulgence, sois indulgent envers moi.", context:"La Nuit du Destin et toutes les nuits."},
        {title:"Pour le savoir utile ğŸ“š", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø§Ù†Ù’ÙÙØ¹Ù’Ù†ÙÙŠ Ø¨ÙÙ…ÙØ§ Ø¹ÙÙ„ÙÙ‘Ù…Ù’ØªÙÙ†ÙÙŠ ÙˆÙØ¹ÙÙ„ÙÙ‘Ù…Ù’Ù†ÙÙŠ Ù…ÙØ§ ÙŠÙÙ†Ù’ÙÙØ¹ÙÙ†ÙÙŠ", transliteration:"AllÃ¢humma anfa'nÃ® bimÃ¢ 'allamtanÃ® wa 'allimnÃ® mÃ¢ yanfa'unÃ®", translation:"Ã” Allah, fais-moi profiter de ce que Tu m'as enseignÃ©, et enseigne-moi ce qui m'est utile.", context:"Avant d'Ã©tudier le Coran ou l'arabe."},
        {title:"IstikhÃ¢ra (dÃ©cision) ğŸ¤", arabic:"Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙØ³Ù’ØªÙØ®ÙÙŠØ±ÙÙƒÙ Ø¨ÙØ¹ÙÙ„Ù’Ù…ÙÙƒÙ ÙˆÙØ£ÙØ³Ù’ØªÙÙ‚Ù’Ø¯ÙØ±ÙÙƒÙ Ø¨ÙÙ‚ÙØ¯Ù’Ø±ÙØªÙÙƒÙ", transliteration:"AllÃ¢humma innÃ® astakhÃ®ruka bi'ilmika wa astaqdiruka biqudratika...", translation:"Ã” Allah, je Te demande conseil par Ta science et je Te demande la capacitÃ© par Ta puissance...", context:"Avant toute dÃ©cision importante. Prier 2 rak'as, puis rÃ©citer cette dua."}
    ];
    const container = document.getElementById('builtin-duas');
    if (container) {
        container.innerHTML = DUAS.map(d => `
            <details class="card p-5 group">
                <summary class="list-none cursor-pointer flex justify-between items-center outline-none">
                    <h3 class="font-black text-sm text-white">${d.title}</h3>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-stone-400 group-open:rotate-180 transition-transform flex-shrink-0 ml-2"></i>
                </summary>
                <div class="mt-4 space-y-3 border-t border-white/5 pt-4">
                    <p class="text-2xl text-right amiri text-amber-300 leading-loose">${d.arabic}</p>
                    <p class="text-xs text-stone-400 italic">${d.transliteration}</p>
                    <p class="text-sm text-stone-200 font-medium">"${d.translation}"</p>
                    <p class="text-xs text-emerald-400">${d.context}</p>
                </div>
            </details>
        `).join('');
        lucide.createIcons();
    }
});
</script>
</body>
</html>
